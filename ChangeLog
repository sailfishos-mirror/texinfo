2025-01-18  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/utils.c (splitdir): add.

	* tp/Texinfo/XS/main/utils.c (locate_include_file)
	(locate_file_in_dirs): determine if a file name is relative or
	contains . or .. in the same way as in Perl, by calling splitdir and
	looking at the result.

2025-01-18  Patrice Dumas  <pertusus@free.fr>

	Use more forward slashes unconditionally in file names

	* tp/Texinfo/Tests.pm, tp/ext/highlight_syntax.pm,
	tp/ext/latex2html.pm, tp/texi2any.pl, tp/load_txi_modules.pl:
	use forward slashes unconditionally instead of File::Spec for more
	reproducible file names and consistency with other parts of the code.

	Add missing use File::Spec, remove useless use File::Spec.

2025-01-18  Patrice Dumas  <pertusus@free.fr>

	Set locale for MS-Windows in C texi2any

	* tp/Texinfo/XS/texi2any.c (main): in WIN32, set locale using GetACP
	and set DOC_ENCODING_FOR_INPUT_FILE_NAME to 0, as in Perl texi2any.
	GetACP call code from Eli Zaretskii.

2025-01-18  Patrice Dumas  <pertusus@free.fr>

	Align perl_conf flags better with ExtUtils::Embed flags

	* tp/Texinfo/XS/configure.ac (perl_conf_CFLAGS): remove
	PERL_CONF_optimize from perl_conf_CFLAGS, it often conflicts with
	PERL_EXT_CFLAGS and it is not added by ExtUtils::Embed ccopts.

	* tp/Texinfo/XS/configure.ac (perl_conf_LDFLAGS): add
	PERL_CONF_ldflags, like ExtUtils::Embed ldopts does.

	* tp/Texinfo/XS/configure.ac (perl_conf_LIBS): add PERL_CONF_perllibs,
	like ExtUtils::Embed ldopts does.

2025-01-18  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/Makefile.am (libcallperl_libtexinfo_la_CPPFLAGS)
	(libcallperl_libtexinfo_la_CFLAGS, libtexinfoxs_la_CPPFLAGS)
	(libtexinfoxs_la_CFLAGS, libcallperl_libtexinfo_convert_la_CPPFLAGS)
	(libcallperl_libtexinfo_convert_la_CFLAGS)
	(libtexinfo_convertxs_la_CPPFLAGS, libtexinfo_convertxs_la_CFLAGS):
	use perl_conf_CFLAGS and perl_conf_CPPFLAGS instead of XSLIBS_CFLAGS
	and XSLIBS_CPPFLAGS for shared libraries compiled against Perl that
	are not XS modules.

2025-01-18  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/configure.ac (perl_conf_CPPFLAGS),
	tp/Texinfo/XS/Makefile.am (XSLIBS_CPPFLAGS): remove PERL_INC, instead
	set perl_conf_CPPFLAGS to -I${PERL_CONF_archlibexp}/CORE.

	* tp/Texinfo/XS/configure.ac (perl_conf_LIBS),
	tp/Texinfo/XS/Makefile.am: rename PERL_LIBS as perl_conf_LIBS
	for consistency of naming.

2025-01-18  Patrice Dumas  <pertusus@free.fr>

	* doc/texi2any_api.texi (Navigation Panel Button Formatting): document
	global_direction_text.

2025-01-17  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Document.pm: remove document_descriptor accessor.  There
	shouldn't be any situation where the document cannot be used directly.

2025-01-17  Patrice Dumas  <pertusus@free.fr>

	* tp/t/z_misc/test_sort.t: call get_customization_options_hash on
	main_configuration to get regular options, as done in main program or
	other tests, register in the document and use the document as source
	of customization.

	* tp/t/z_misc/test_sort.t: update Texinfo::ModulePath updirs.

2025-01-17  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Document.pm, tp/Texinfo/Indices.pm: add/change comments,
	move code around.

2025-01-17  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/build_perl_info.c (build_global_info): add a
	converter argument to try to reuse the "global_info" value of the Perl
	document hash instead of systematically creating a new HV.  Update
	callers.

	* tp/Texinfo/Document.pm (%XS_overrides, set_document_global_info):
	override directly set_document_global_info.  Remove
	_XS_set_document_global_info.

	* tp/t/z_misc/test_document.t: call global_information() after
	set_document_global_info before accessing the hash.

	* tp/Texinfo/XS/main/DocumentXS.xs (set_document_global_info): add a
	string to get a warning if the document is not found in
	set_document_global_info.

	* tp/t/z_misc/test_document.t: update Texinfo::ModulePath updirs.

2025-01-17  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Structuring.pm (construct_nodes_tree),
	tp/Texinfo/XS/structuring_transfo/structuring.c
	(construct_nodes_tree): rename nodes_tree as construct_nodes_tree.
	Upate callers.

	* tp/Texinfo/Structuring.pm (construct_nodes_tree)
	(sectioning_structure), tp/Texinfo/Document.pm,
	tp/Texinfo/XS/main/document.c,
	tp/Texinfo/XS/structuring_transfo/structuring.c (sectioning_structure)
	(construct_nodes_tree): register nodes lists
	nd sections lists directly in construct_nodes_tree and
	sectioning_structure.  Remove register_document_nodes_list,
	register_document_sections_list.  Upate callers.

2025-01-17  Patrice Dumas  <pertusus@free.fr>

	Use the TEXINFO_C_PERL_EMBED env variable to prevent loading embedded Perl

	* tp/Texinfo/XS/texi2any.c (long_options, main): remove the
	no-embed-interpreter option.  If the TEXINFO_C_EMBED_PERL environment
	variable is 0, do not load the Perl embedded interpreter.  Gavin
	proposal.

	* tp/Texinfo/XS/texi2any.c (main): load init files while processing
	command-line options.

2025-01-16  Gavin Smith <gavinsmith0123@gmail.com>

	* tp/TODO: remove suggestion to check for comma/fullstop after
	@xref{...} in parser as it does not seem like it would add much
	benefit and the existing check in Info.pm seems to work well enough.

2025-01-16  Patrice Dumas  <pertusus@free.fr>

	* doc/texi2any_api.texi (Advanced Navigation Panel Buttons
	Specification, Customizing HTML Footers@comma{} Headers and Navigation
	Panels): move "Advanced Navigation Panel Buttons Specification" node
	to "Customizing HTML Footers@comma{} Headers and Navigation Panels".

2025-01-16  Patrice Dumas  <pertusus@free.fr>

	* doc/texi2any_api.texi (Simple Navigation Panel Customization):
	update with explicit text direction mention.  Move accesskey
	description to the beginning of the node and mention rel too.

	* doc/texi2any_api.texi (Navigation Panels Buttons Arrays): add a
	subsection for the list of navigation panels buttons customization
	variables arrays.

	* doc/texi2any_api.texi (Setting The Navigation Panel Buttons)
	(Modifying The Navigation Panel Buttons): add subsection explaining
	more simply how to set and modify the navigation panel buttons.

	* doc/texi2any_api.texi (Advanced Navigation Panel Buttons
	Specification): describe all the possibilities in detail for the
	buttons specification in a new node.  Add the "string with a text
	direction" possibilitiy.

2025-01-16  Patrice Dumas  <pertusus@free.fr>

	* doc/texi2any_api.texi (Managing Customization Variables)
	(Getting Converter Default Variables Values): ignore a confusing
	paragraph in "Managing Customization Variables".  Add Getting
	"Converter Default Variables Values" explaining how to get HTML
	converter default values.

2025-01-16  Patrice Dumas  <pertusus@free.fr>

	* doc/texi2any_api.texi (Navigation Panel Button Formatting): move
	"Output Unit Direction Information Type" node content to the
	from_element_direction function description, where it is used.  Remove
	the "Output Unit Direction Information Type" node.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	Remove the direction and text type for a button

	* tp/Texinfo/Convert/HTML.pm (_default_format_button),
	tp/Texinfo/XS/convert/format_html.c (html_default_format_button),
	tp/Texinfo/XS/main/create_buttons.c (new_button_specification),
	tp/Texinfo/XS/main/get_perl_info.c
	(html_get_button_specification_list),
	tp/Texinfo/XS/main/option_types.h (enum button_specification_type):
	remove the button formatting using a two element array with direction
	and text type.  It was already unused, undocumented and scheduled for
	deletion.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	Remove the possibility to use a direction and scalar reference for a button

	* tp/Texinfo/Convert/HTML.pm (_default_format_button),
	tp/Texinfo/XS/convert/format_html.c (html_default_format_button),
	tp/Texinfo/XS/main/create_buttons.c (new_button_specification),
	tp/Texinfo/XS/main/customization_options.c (copy_option),
	tp/Texinfo/XS/main/get_perl_info.c
	(html_get_button_specification_list),
	tp/Texinfo/XS/main/option_types.h (enum button_information_type)
	(BUTTON_SPECIFICATION_INFO), tp/Texinfo/XS/main/utils.c
	(html_free_button_specification_list): remove the button formatting
	using a two element array with direction and scalar reference.  In C
	remove both BIT_external_string and BIT_string.

	* tp/Texinfo/XS/main/create_buttons.c (new_button_specification):
	remove the string argument.  Update callers.

	* doc/texi2any_api.texi (Simple Navigation Panel Customization), NEWS:
	update.  Remove text string is interpreted as an output unit direction
	information type button specification @ignore'd block too.

	* tp/Texinfo/XS/main/api_to_perl.c: remove now unused
	get_perl_scalar_reference_value.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	Remove the possibility to use a scalar reference for a button

	* tp/Texinfo/Convert/HTML.pm (_default_format_special_body_about),
	tp/Texinfo/XS/convert/format_html.c
	(html_default_format_special_body_about): do not show global direction
	texts in about.

	* doc/texi2any_api.texi (Simple Navigation Panel Customization),
	tp/Texinfo/Convert/HTML.pm (_default_format_button),
	tp/Texinfo/XS/convert/format_html.c (html_default_format_button),
	tp/Texinfo/XS/main/create_buttons.c (new_button_specification),
	tp/Texinfo/XS/main/customization_options.c (copy_option),
	tp/Texinfo/XS/main/get_perl_info.c
	(html_get_button_specification_list),
	tp/Texinfo/XS/main/option_types.h (enum button_specification_type)
	(BUTTON_SPECIFICATION), tp/Texinfo/XS/main/utils.c
	(html_free_button_specification_list): remove the possibility to use
	a scalar reference as button, a function reference or global text
	directions should be used instead.  In C remove both
	BST_external_string and BST_string buttons types.

	* tp/t/init/access_document_name_in_handler.pm
	(_button_show_document_name)
	(_texi2any_tests_access_document_name_in_handler): use a function
	reference instead of a scalar reference as button.

	* tp/t/init/test_directions.init: use global text directions instead
	of scalar references as buttons.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	* doc/texi2any_api.texi (Directions, Default Directions)
	(Direction Strings Customization)
	(Adding Text And Global Output Units Directions): rearrange directions
	documentation.  Add information on how to modify and add global
	directions using the new HTML customization API to add or replace
	global directions.

2025-01-15  Gavin Smith <gavinsmith0123@gmail.com>

	UTF-16 in PDF outlines

	* doc/texinfo.tex
	(\utfsixteentotoks): new.  generate UTF-16 from codepoint.
	(DeclareUnicodeCharacterUTFviii) [pdftex]: call it.
	(\asciitounicode): new macro to expand ASCII to UTF-16BE.
	(\defpdfoutlinetextunicode): new macro to set string for PDF
	outline to UTF-16BE string if necessary.
	(\setpdfoutlinetext) <pdfTeX with UTF-8>: call it.
	(\UTFviiiLoop): do not make catcode changes global.
	(\UTFviiiDefined): add conditional to allow suppressing error
	message.

	* doc/texinfo-tex-test.texi: update test case.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/convert_html.c
	(html_clear_direction_string_type),
	tp/Texinfo/XS/convert/get_html_perl_info.c
	(html_conversion_initialization_sv),
	tp/Texinfo/XS/convert/html_converter_finish.c (html_free_converter),
	tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_nr_string_directions, html_converter_customize)
	(html_initialize_output_state): add html_nr_string_directions and use
	it to determine the total number of direction strings.

	* tp/Texinfo/XS/convert/build_html_perl_info.c
	(build_directions_strings): call html_nr_string_directions and use
	converter->main_units_direction_names for directions names.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	Make converter_defaults conf argument optional

	* tp/Texinfo/Convert/Converter.pm (converter_defaults),
	tp/Texinfo/Convert/*.pm (converter_defaults),
	tp/Texinfo/XS/convert/ConvertXS.xs (converter_defaults): make second
	argument of converter_defaults optional.

	* tp/Texinfo/Convert/Info.pm, tp/t/init/add_directions_buttons.pm:
	update converter_defaults call.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_initialize_output_state): do not access special output units
	directions outside of their range.

	* tp/Texinfo/XS/convert/html_converter_finish.c (html_free_converter),
	tp/Texinfo/XS/convert/convert_html.c
	(html_clear_direction_string_type): correct nr_string_directions.

	* tp/Texinfo/XS/convert/html_converter_finish.c (html_free_converter):
	free added_global_units_directions,
	customized_global_units_directions, customized_global_text_directions
	and global_texts_direction_names.

	* tp/Texinfo/XS/main/converter_types.h (DIRECTION_NODE_NAME_LIST),
	tp/Texinfo/XS/convert/get_html_perl_info.c
	(html_converter_get_customization_sv): remove space field.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	* tp/t/init/button_replacement_for_special_unit_direction.pm: do not
	modify default buttons lists.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/utils.c (string_exists_in_sorted_strings_list):
	add.

	* tp/Texinfo/XS/convert/ConvertXS.xs (html_global_direction_text),
	tp/Texinfo/XS/convert/html_conversion_state.c,
	tp/Texinfo/XS/convert/html_converter_finish.c (html_reset_converter),
	tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_setup_global_texts_direction_names),
	tp/Texinfo/XS/main/converter_types.h (CONVERTER): use a STRING_LIST
	for global_texts_direction_names.  Remove
	html_find_direction_name_global_text, TEXT_DIRECTION and
	TEXTS_DIRECTION_LIST.

2025-01-15  Patrice Dumas  <pertusus@free.fr>

	HTML customization API to add or replace global directions

	* tp/Texinfo/Config.pm (texinfo_register_global_direction)
	(GNUT_get_global_directions): add texinfo_register_global_direction
	to register text global direction or output unit global direction with
	a Texinfo node name.

	* tp/Texinfo/XS/convert/ConvertXS.xs (html_global_direction_text),
	tp/Texinfo/Convert/HTML.pm (conversion_initialization),
	tp/Texinfo/XS/convert/format_html.c (html_global_direction_text)
	(from_element_direction),
	tp/Texinfo/XS/convert/html_conversion_state.c
	(html_find_direction_name_global_text): simply set 1 for global
	direction text in hash or as a return value.

	* tp/Texinfo/Convert/HTML.pm (converter_initialize)
	(conversion_initialization),
	tp/Texinfo/XS/convert/get_html_perl_info.c
	(html_converter_get_customization_sv),
	tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_set_main_units_direction_names, html_converter_customize)
	(html_initialize_output_state), tp/Texinfo/XS/main/converter_types.h
	(DIRECTION_NODE_NAME, DIRECTION_NODE_NAME_LIST, CONVERTER),
	tp/Texinfo/XS/convert/html_converter_api.c
	(html_converter_initialize): get customized_global_directions and
	consider the added directions to be customizable directions, pass them
	to C.  Separate code determining main_units_direction_names to the
	html_set_main_units_direction_names function, call it in
	html_converter_get_customization_sv before getting customization of
	direction strings and in html_converter_initialize.

	* tp/Texinfo/Convert/HTML.pm (conversion_initialization),
	tp/Texinfo/XS/convert/format_html.c (html_global_direction_text)
	(html_setup_global_texts_direction_names),
	tp/Texinfo/XS/main/converter_types.h (CONVERTER),
	tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_set_main_units_direction_names): add
	customized_global_directions text directions.

	* tp/Texinfo/Convert/HTML.pm (_prepare_output_units_global_targets),
	tp/Texinfo/XS/Makefile.am (libtexinfo_convert_la_CPPFLAGS),
	tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_converter_customize, html_initialize_output_state)
	(html_prepare_output_units_global_targets)
	(html_setup_global_units_direction_names): get the
	customized_global_directions output units to replace or add to
	global_units_directions.

	* tp/Makefile.am (test_files), tp/t/init/add_directions_buttons.pm,
	tp/t/init/directions_buttons.pm, tp/Makefile.tres,
	tp/t/init_files_tests.t ($directions_buttons_text, directions_buttons)
	(directions_buttons_buttons): test of the direction addition API,
	adding directions and using in buttons.

2025-01-13  Gavin Smith <gavinsmith0123@gmail.com>

	Define NULL_DEVICE in system.h

	* system.h,
	* info/info.h,
	* install-info/install-info.c (NULL_DEVICE): move all setting
	of NULL_DEVICE to system.h.  Remove special case where it is
	set to "/dev/null" for DJGPP as apparently "NUL" works as well.
	* info/filesys.h (DEFAULT_INFOPATH) [__DJGPP__]: move override
	of DEFAULT_INFOPATH here.
	
	Report from Patrice.

2025-01-13  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/parsetexi/end_line.c (end_line_starting_block): check
	if parent command is found (should always be).

	* tp/Texinfo/XS/texi2any.c (main): fix precedence of dump_texi_option.

	* tp/Texinfo/XS/xspara.c (xspara_add_text): use PRIuLEAST32 in format.

	* tp/Texinfo/XS/convert/texinfo.c (txi_general_output_strings_setup):
	free locales_dir only if it was set.

2025-01-12  Patrice Dumas  <pertusus@free.fr>

	Consider global direction with text and no output unit as a category

	* tp/Texinfo/Convert/HTML.pm (global_direction_text)
	(_default_format_button, _prepare_output_units_global_targets)
	(conversion_initialization), tp/Texinfo/XS/convert/format_html.c
	(html_global_direction_text, html_default_format_button): generalize
	the case of the Space button as a global direction with text and no
	output unit.

	* tp/Texinfo/XS/convert/ConvertXS.xs (html_global_direction_text),
	tp/Texinfo/Convert/HTML.pm (%XS_conversion_overrides),
	tp/Texinfo/XS/convert/build_html_perl_info.c
	(html_pass_units_directions_files)
	(html_pass_output_units_global_targets),
	tp/Texinfo/XS/convert/html_conversion_state.c
	(compare_global_texts_direction_name)
	(html_find_direction_name_global_text),
	tp/Texinfo/XS/convert/html_converter_finish.c (html_reset_converter),
	tp/Texinfo/XS/convert/html_prepare_converter.c
	(compare_global_texts_direction_name)
	(html_setup_global_texts_direction_names),
	tp/Texinfo/XS/main/converter_types.h (TEXT_DIRECTION),
	(TEXTS_DIRECTION_LIST, CONVERTER): add an XS interface for
	global_direction_text.

2025-01-12  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/html_converter_types.h
	(global_unit_direction),
	tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_global_unit_direction_names), tp/Texinfo/XS/main/option_types.h
	(direction_unit_direction), tp/Texinfo/XS/main/utils.c
	(html_button_direction_names),
	tp/maintain/generate_code_convert_data.pl: handle Space button as part
	of HTML_GLOBAL_DIRECTIONS_LIST.

2025-01-12  Patrice Dumas  <pertusus@free.fr>

	Rename space direction ' ' to 'Space'

	* tp/Texinfo/Data/default_direction_strings.csv, NEWS,
	doc/texi2any_api.texi (Directions), tp/Texinfo/Convert/HTML.pm
	(%defaults, _default_format_button, _default_format_navigation_panel)
	(_default_format_special_body_about, _set_variables_texi2html),
	tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_global_unit_direction_names), tp/Texinfo/XS/main/utils.c
	(html_button_direction_names), tp/init/book.pm,
	tp/maintain/generate_code_convert_data.pl,
	tp/t/init/access_document_name_in_handler.pm, tp/t/init/icons.init,
	tp/t/init/special_element_customization.pm, tp/t/init/t2h_buttons.pm,
	tp/t/init/t2h_singular.init,
	tp/t/init/translated_strings_customization.pm: rename space direction
	' ' to 'Space'.

2025-01-12  Patrice Dumas  <pertusus@free.fr>

	Rename LINKS_BUTTONS customization variable to LINKS_DIRECTIONS

	* tp/Texinfo/options_data.txt, tp/Texinfo/Convert/HTML.pm (%defaults,
	_get_links), tp/Texinfo/XS/convert/format_html.c (get_links),
	tp/Texinfo/XS/convert/html_converter_init_options.c
	(set_html_default_buttons_specifications)
	(add_html_default_buttons_specifications), tp/init/book.pm,
	tp/t/converters_tests.t,
	tp/t/init/button_replacement_for_special_unit_direction.pm: rename
	LINKS_BUTTONS to LINKS_DIRECTIONS.  Also rename link_buttons variable
	as link_directions and $link as $link_direction.

	* NEWS, doc/texi2any_api.texi (Simple Navigation Panel Customization)
	(Customizing HTML File Beginning): remove LINKS_DIRECTIONS from
	"Simple Navigation Panel Customization" node.  Update.

2025-01-12  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main), tp/load_txi_modules.pl,
	tp/texi2any.pl: postpend +nc instead of +dev when the Perl script
	called is not configured, to avoid possible confusion with the dev
	string in the main version used for the development version.  Also do
	that for texi2any.c if uninstalled, as there is no possibility to be
	non-configured in C.

2025-01-11  Gavin Smith <gavinsmith0123@gmail.com>

	* configure.ac (AC_INIT): bump version to 7.2dev.
	* tp/Texinfo/XSLoader.pm,
	* tp/Texinfo/XS/configure.ac (XS_VERSION): strip off dev suffix
	as XS bootstrap function doesn't accept it.

2025-01-12  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (conf_file_name, main): read
	texi2any-config.pm customization files.

	* tp/Texinfo/XS/texi2any.c (warn_deprecated_dirs): free
	deprecated_dir_info strings too.

	* tp/Texinfo/XS/texi2any.c (main): destroy
	converter_config_dirs_array_ref earlier.

2025-01-12  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/configure.ac, README-hacking: do not use
	AC_LINK_IFELSE nor ready-to-use Autoconf code to test for Perl
	embedding, as it does not seems possible to avoid AC_DEFINE results
	performed previously includes:
	https://lists.gnu.org/archive/html/autoconf/2025-01/msg00008.html
	Instead use a code every similar to the configure code generated by
	AC_LINK_IFELSE.  This implies using an internal Autoconf shell
	function and variable.  Document in README-hacking that when Autoconf
	is updated, this code should be checked.

2025-01-12  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/Info.pm, tp/Texinfo/Convert/Paragraph.pm
	(@EXPORT_OK, BEGIN), tp/Texinfo/Convert/Plaintext.pm,
	tp/t/z_misc/paragraph.t: remove code in Paragraph.pm importing symbols
	in the caller, instead use Exporter and @EXPORT_OK.  Gavin analysed
	that this is not needed anymore since 2019 when XSLoader.pm init
	started relying on XS declaring the correct package name. 
	Update code using Texinfo::Convert::Paragraph.

2025-01-11  Patrice Dumas  <pertusus@free.fr>

	Use last @printindex for Index direction in HTML

	* NEWS, doc/texi2any_api.texi (Directions), tp/Texinfo/Convert/HTML.pm
	(_prepare_output_units_global_targets),
	tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_prepare_output_units_global_targets): use last @printindex for
	the Index global direction in HTML.  Report from Werner Lemberg.

2025-01-10  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XSLoader.pm (%dl_path_prepended_dirs)
	(load_libtool_library): prepend directories found where libtool .la
	files are only once.

2025-01-10  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/ParagraphNonXS.pm (new): do not bless returned
	hash reference.

	* tp/Texinfo/Convert/Info.pm (_info_header),
	tp/Texinfo/Convert/ParagraphNonXS.pm (new),
	tp/Texinfo/Convert/Plaintext.pm (new_formatter),
	tp/Texinfo/XS/XSParagraph.xs (xspara_new), tp/t/z_misc/paragraph.t:
	remove class argument of Texinfo::Convert::Paragraph new.

2025-01-10  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/Makefile.am: comments, move teximakehtml down.

2025-01-09  Patrice Dumas  <pertusus@free.fr>

	If installed, try to find XS module even if .la file is missing

	* tp/Texinfo/ModulePath.pm.in ($converterxsdir): add.

	* tp/Texinfo/XSLoader.pm ($added_converterxsdir, load_libtool_library)
	(init): if called from installed Texinfo and loading an XS module and
	the la file is not found,
	 - add $converterxsdir, where the XS modules are installed to
	   DynaLoader path
	 - let DynaLoader find the module file using the usual file names.

	This allows to have modules found even if packagers remove .la files
	installed in the default case on platforms where modules have usual
	names and are found by DynaLoader.

2025-01-09  Gavin Smith <gavinsmith0123@gmail.com>

	* info/info.c (info_short_help):
	Split translatable string into shorter chunks.

2025-01-08  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/replace_call_embed_perl.c,
	tp/Texinfo/XS/convert/replace_call_conversion_perl.c: move
	call_eval_use_module to replace_call_embed_perl.c.

	* tp/Texinfo/XS/Makefile.am (libperlembed_libtexinfo_main_la_SOURCES)
	(libperlembed_libtexinfo_main_la_LIBADD, libtexinfo_main_la_LIBADD):
	if PERL_EMBEDDED is not set use replace_call_embed_perl.c instead of
	call_embed_perl.c in libperlembed_libtexinfo_main and do not use
	PERL_EXTUTILS_EMBED_ldopts.  The resulting library won't embed a Perl
	interpreter.  Based on a report from Gavin.

2025-01-08  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/Makefile.am (teximakehtml_SOURCES),
	tp/Texinfo/XS/convert/replace_call_conversion_perl.c,
	tp/Texinfo/XS/convert/replace_call_embed_perl.c: split
	replace_call_embed_perl.c out of replace_call_conversion_perl.c with
	replacements for call_embed_perl.c functions only.

2025-01-08  Patrice Dumas  <pertusus@free.fr>

	pod2texi usage message

	* Pod-Simple-Texinfo/pod2texi.pl: use ; instead of . to separate
	information.  Indent second line of option description by two spaces.

2025-01-08  Patrice Dumas  <pertusus@free.fr>

	texi2any usage message

	* tp/Texinfo/XS/texi2any.c (main), tp/texi2any.pl: remove periods from
	options descriptions unless they end a proper sentence starting with
	an upper-cased letter.

2025-01-08  Patrice Dumas  <pertusus@free.fr>

	texi2any usage message

	* tp/Texinfo/XS/texi2any.c (main): add examples to help message.

2025-01-08  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): split translated strings at end of
	lines.

2025-01-08  Gavin Smith <gavinsmith0123@gmail.com>

	Remove USE_REL_REV variable

	* tp/Texinfo/options_data.txt,
	* tp/Texinfo/Convert/converters_defaults.txt,
	* tp/Texinfo/Convert/HTML.pm
	(_direction_href_attributes, _default_format_button)
	* tp/Texinfo/XS/convert/format_html.c
	(direction_href_attributes, html_default_format_button)
	* tp/Texinfo/XS/main/options_data.h,
	* tp/t/init/redefined_buttons.pm
	(_redefined_buttons_button_dynamic_direction),
	* doc/texinfo.texi (File Names and Links Customization for HTML),
	* doc/texi2any_api.texi (Simple Navigation Panel Customization),
	* NEWS:
	Remove USE_REL_REV.

2025-01-08  Patrice Dumas  <pertusus@free.fr>

	texi2any usage message

	* tp/texi2any.pl (makeinfo_help) <Examples>: substitute
	$real_command_name instead of hardcoding it.

2025-01-08  Gavin Smith <gavinsmith0123@gmail.com>

	texi2any usage message
	
	* tp/texi2any.pl (makeinfo_help) <Examples>: Split translation
	string, remove newline from translation string, do not mention
	@setfilename in examples, refer to "texi2any" rather than "makeinfo".

2025-01-08  Gavin Smith <gavinsmith0123@gmail.com>

	texi2any usage message
	
	* tp/texi2any.pl (makeinfo_help) <conditionals>,
	* tp/Texinfo/XS/texi2any.c (main) <--help output> <conditionals>
	Remove trailing '.'.  Describe default settings generically.
	Do not document all of --no-ifFORMAT commands explicitly.
	Remove "even if not generating FORMAT" provisos from some option
	descriptions.  @ifnotFORMAT is relevant for --ifFORMAT as well
	as --no-ifFORMAT.  Align long options with other long options
	in usage message.

2025-01-07  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Translations.pm (_switch_messages_locale),
	tp/Texinfo/XS/main/translations.c (switch_messages_locale): redirect
	"locale -a" stderr to /dev/null.  We are not really interested by
	locale errors and there is a more general warning just after.

2025-01-07  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Translations.pm (_switch_messages_locale),
	tp/Texinfo/XS/main/translations.c (switch_messages_locale): warn
	immediately if the switch to a locale other than C and POSIX did not
	succeed.

2025-01-07  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/call_embed_perl.c (call_init_perl): set
	PL_perl_destruct_level to 0 to decrease the time needed for the
	destruction of the embedded Perl interpreter.  Using
	PERL_DESTRUCT_LEVEL env variable to get usefull leak information with
	valgrind is still possible.

2025-01-07  Patrice Dumas  <pertusus@free.fr>

	* doc/texi2any_api.texi (Target Tree Element Link): correct the order
	of the return arguments of get_element_root_command_element.

2025-01-06  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/Makefile.am (ctexi2any_LDADD): remove
	libtexinfo-convertxs.la, it is not used at all in the program.

2025-01-06  Patrice Dumas  <pertusus@free.fr>

	Separate library for main program to isolate Perl embedding code

	* tp/Texinfo/XS/convert/call_conversion_perl.c,
	tp/Texinfo/XS/convert/call_embed_perl.c (call_eval_use_module)
	(my_perl, xs_init, call_init_perl, call_finish_perl): move functions
	related to Perl embedding to a different file, to be able to use
	the ExtUtils::Embed compile flags for this file only.

	* tp/Texinfo/XS/Makefile.am (C_libtexinfo_convert_sources)
	(libtexinfo_convert_la_CPPFLAGS, libtexinfo-main.la)
	(C_libtexinfo_main_sources, libperlembed_libtexinfo_main.la)
	(libperlembed_libtexinfo_main_la_SOURCES)
	(libperlembed_libtexinfo_main_la_CFLAGS)
	(libperlembed_libtexinfo_main_la_LDFLAGS)
	(libperlembed_libtexinfo_main_la_LIBADD, libtexinfo_main_la_SOURCES)
	(libtexinfo_main_la_CPPFLAGS, libtexinfo_main_la_LIBADD)
	(libtexinfo_main_la_LDFLAGS, teximakehtml_SOURCES)
	(ctexi2any_LDADD): add the libtexinfo-main small library to use the
	ExtUtils::Embed library flags for this library only.  The C part
	contains texinfo.c and there is also a convenience library for
	call_embed_perl.c.  Do not use ExtUtils::Embed compile flags
	for the main program.

2025-01-06  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/configure.ac: remove the warning messages at the end,
	the check for enabled XS is done in the top configure.ac.

	* tp/Texinfo/XS/configure.ac (embedded_perl, PERL_EMBEDDED): add
	a full check for linking against the Perl interpreter library.  Even
	it the Perl XS infrastructure including headers and ExtUtils::Embed
	is present the Perl interpreter library may not be installed.

2025-01-06  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/configure.ac: improve a message.

2025-01-06  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/Makefile.am (ctexi2any, ctexi2any_LDADD)
	(ctexi2any_CFLAGS, ctexi2any_LDFLAGS), tp/Texinfo/XS/configure.ac
	(PERL_EMBEDDED, PERL_EXTUTILS_EMBED_ccopts)
	(PERL_EXTUTILS_EMBED_ldopts): check if ExtUtils::Embed is present, if
	not do not build ctexi2any, if yes, use "perl -MExtUtils::Embed -e
	ccopts" in ctexi2any CFLAGS and "perl -MExtUtils::Embed -e ldopts"
	in ctexi2any LDADD.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/*.pm, tp/Texinfo/ParserNonXS.pm,
	tp/Texinfo/Structuring.pm, tp/Texinfo/Transformations.pm,
	tp/Texinfo/XS/convert/convert_html.c,
	tp/Texinfo/XS/convert/converter.c,
	tp/Texinfo/XS/convert/format_html.c,
	tp/Texinfo/XS/main/convert_to_texinfo.c,
	tp/Texinfo/XS/main/convert_to_text.c,
	tp/Texinfo/XS/main/node_name_normalization.c,
	tp/Texinfo/XS/parsetexi/end_line.c,
	tp/Texinfo/XS/parsetexi/handle_commands.c,
	tp/Texinfo/XS/structuring_transfo/structuring.c,
	tp/Texinfo/XS/structuring_transfo/transformations.c: add comments,
	change variables names and add checks to make clearer when an
	arguments_line element is used.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* tp/ext/highlight_syntax.pm (_get_language): use the first argument
	to get the language.

	* tp/tests/other/highlight_example.texi: add a second argument on
	@example line for one of the @example.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Common.pm, tp/Texinfo/ParserNonXS.pm,
	tp/Texinfo/Convert/*.pm, tp/Texinfo/XS/convert/converter.c,
	tp/Texinfo/XS/convert/format_html.c, tp/Texinfo/XS/main/utils.c,
	tp/Texinfo/XS/parsetexi/*.c, tp/ext/*.pm, tp/init/*.pm: add comments
	and change variable names to make clearer when an arguments_line
	element is used when the type is not tested.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main), tp/texi2any.pl: add
	--[no-]number-footnotes to the help message.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): if uninstalled, prepend +dev to
	PACKAGE_VERSION too.

	* tp/Texinfo/XS/texi2any.c (main): if the mimick option is set, reset
	PROGRAM program_options too.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* tp/maintain/regenerate_documentlanguages-loc.pl: update country
	codes.  Add Namibia country code which seems to be missing.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* doc/texinfo.texi (@code{@@documentlanguage}),
	tp/maintain/regenerate_documentlanguages-loc.pl: add three letter
	languages that correspond to individual languages.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): use a variable to be more robust
	for non_first_file_cmdline_options initialization and free'ing.

	* tp/Texinfo/XS/texi2any.c (main): close files.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): free texi2dvi_args also in case
	texi2dvi is not called.

2025-01-05  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/customization_options.c (clear_option)
	(clear_options_list): remove the OF_set_in_list flag in clear_option
	and not in clear_options_list, to be able to do it for individual
	options.

	* tp/Texinfo/XS/main/customization_options.c
	(options_list_remove_option_number): add.

	* tp/Texinfo/XS/texi2any.c (main): set XS_EXTERNAL_CONVERSION and
	XS_EXTERNAL_FORMATTING.

	* tp/Texinfo/XS/texi2any.c (main): remove the options that are only
	relevant for the first processed file for the other files.

	* tp/texi2any.pl: comment out unused code.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	SHOW_BUILTIN_CSS_RULES in ctexi2any

	* tp/texi2any.pl: move code related to SHOW_BUILTIN_CSS_RULES earlier.

	* tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_builtin_default_css_text), tp/Texinfo/XS/convert/texinfo.c
	(txi_builtin_default_css_text): add.

	* tp/Texinfo/XS/texi2any.c (main): handle SHOW_BUILTIN_CSS_RULES by
	calling txi_builtin_default_css_text.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): add ignoring splitting message.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl: remove end of line in help message translated
	strings.  Report from Benno Schulenberg.

	* tp/Texinfo/XS/texi2any.c (main): add --Xopt message, reorder help
	message to be the same as texi2any.pl.

2025-01-04  Gavin Smith <gavinsmith0123@gmail.com>

	* doc/txi-fi.tex: recode from Latin-1 into UTF-8

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	TREE_TRANSFORMATIONS in ctexi2any

	* tp/Texinfo/XS/convert/texinfo.c (txi_tree_transformation_table)
	(txi_find_tree_transformation), tp/Texinfo/XS/convert/texinfo.h
	(TRANSFORMATION_NAME_FLAG, TT_TYPES_LIST): add.

	* tp/Texinfo/XS/convert/texinfo.c (txi_complete_document): add missing
	insert_nodes_for_sectioning_commands call.

	* tp/Texinfo/XS/texi2any.c (main): setup tree transformation flags
	based on TREE_TRANSFORMATIONS, calling txi_find_tree_transformation
	and add them to the txi_complete_document call.

2025-01-04  Gavin Smith <gavinsmith0123@gmail.com>

	* doc/txi-fi.tex: recode from Latin-2 into UTF-8

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c (txi_general_output_strings_setup):
	rename txi_general_setup as txi_general_output_strings_setup.  Update
	caller.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/converter.c (txi_paths_info)
	(setup_txi_paths_information, generic_setup_main_converter): rename
	conversion_paths_info as txi_paths_info,
	setup_converter_paths_information as setup_txi_paths_information and
	converter_setup as generic_setup_main_converter.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c (txi_general_setup),
	tp/Texinfo/XS/texi2any.c (main): remove call of converter_setup from
	txi_general_setup, use conversion_paths_info.  Call converter_setup
	directly in main and earlier, to have txi_base_sorted_options setup
	early.  Call txi_general_setup later on, in the same place as in Perl.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	Support formats handled by texi2dvi in ctexi2any

	* tp/texi2any.pl: handle TEXI2DVI being undef or empty by exiting with
	error.

	* tp/Texinfo/XS/texi2any.c (FORMAT_NAME, format_names)
	(name_of_format): add.

	* tp/Texinfo/XS/texi2any.c (formats_table, format_expanded_formats)
	(long_options, main): add support for formats handled by texi2dvi.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	Never consider stdin to be the input file when calling texi2dvi

	* tp/texi2any.pl (@input_files): do not add - to input_files if there
	is something on stdin when call_texi2dvi is set.  texi2dvi do not
	support reading files on stdin and will give an error message of it
	own, but it is better to catch the missing file as soon as possible
	in texi2any.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl: move error related to call_texi2dvi down, where
	call_texi2dvi is set.

	* tp/texi2any.pl (name_of_format): rename format_name as
	name_of_format.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/build_html_perl_info.c
	(html_pass_conversion_initialization): always call
	call_common_set_output_perl_encoding, even if there is no formatting
	of HTML as Perl, as the Perl converter encoding may be used in the
	main program for calls to
	Texinfo::Convert::Utils::output_files_open_out.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl: move code around to correspond better to texi2any.c
	code.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c (txi_general_setup),
	tp/Texinfo/XS/texi2any.c (main): call messages_and_encodings_setup
	directly in main and not in txi_general_setup.  Call txi_general_setup
	later on in main.  Move txi_general_setup code down in texinfo.c.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/HTML.pm (%XS_conversion_overrides),
	tp/Texinfo/XS/convert/ConvertXS.xs (html_output_internal_links): add
	an XS interface for output_internal_links.

	* tp/Texinfo/XS/convert/build_html_perl_info.c
	(html_pass_conversion_initialization), tp/Texinfo/XS/texi2any.c
	(main): update now that output_internal_links do not need Perl
	anymore.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): exit with an error and a message if
	there is no interpreter and SORT_ELEMENT_COUNT is set.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/node_name_normalization.c
	(unicode_to_transliterate), tp/Texinfo/XS/main/replace_perl_api_call.c
	(call_nodenamenormalization_unicode_to_transliterate): check return of
	call_nodenamenormalization_unicode_to_transliterate in
	unicode_to_transliterate, and call C code if NULL.

	* tp/Texinfo/XS/main/call_perl_function.c
	(call_nodenamenormalization_unicode_to_transliterate)
	(call_translations_translate_string, call_setup_collator): check
	get_no_perl_interpreter and return an appropriate value if set.

2025-01-04  Patrice Dumas  <pertusus@free.fr>

	Build ctexi2any even if DISABLE_ADDITIONAL_CHECKS is set

	* tp/Texinfo/XS/Makefile.am (noinst_PROGRAMS): remove
	DISABLE_ADDITIONAL_CHECKS conditional for ctexi2any.

2025-01-03  Patrice Dumas  <pertusus@free.fr>

	Check same version in ctexi2any caller and embedded Perl modules

	* tp/Texinfo/XS/texi2any.c (main): postpend +dev to the
	PACKAGE_AND_VERSION program customization option if uninstalled,
	similar with texi2any.pl.

	* tp/Texinfo/XS/convert/call_conversion_perl.c (call_init_perl),
	tp/Texinfo/XS/convert/texinfo.c (txi_customization_loading_setup),
	tp/Texinfo/XS/texi2any.c (main), tp/load_txi_modules.pl: pass the
	version down to call_init_perl.  In call_init_perl pass the version
	as argument to load_txi_modules(.pl).  In load_txi_modules.pl
	check that the version on the command-line matches with the Perl
	modules version.

2025-01-03  Patrice Dumas  <pertusus@free.fr>

	Pass direction icons to C options using names

	* tp/Texinfo/XS/convert/ConvertXS.xs (html_prepare_simpletitle)
	(html_convert), tp/Texinfo/XS/convert/convert_html.c
	(html_free_direction_icons_array, compare_direction_icon)
	(prepare_direction_icons_list, html_prepare_direction_icons)
	(html_prepare_converted_output_info),
	tp/Texinfo/XS/convert/format_html.c (html_default_format_button)
	(html_default_format_special_body_about),
	tp/Texinfo/XS/convert/html_converter_api.c (html_convert),
	tp/Texinfo/XS/main/build_perl_info.c (html_build_direction_icons),
	tp/Texinfo/XS/main/converter_types.h (CONVERTER),
	tp/Texinfo/XS/main/customization_options.c (copy_option),
	tp/Texinfo/XS/main/get_perl_info.c (get_sv_option)
	(html_get_direction_icons_sv), tp/Texinfo/XS/main/option_types.h
	(DIRECTION_ICON, DIRECTION_ICON_LIST), tp/Texinfo/XS/main/utils.c
	(html_clear_direction_icons, html_free_direction_icons),
	tp/Texinfo/XS/convert/html_converter_finish.c (html_reset_converter),
	tp/maintain/regenerate_C_options_info.pl: add the DIRECTION_ICON type
	to specify a direction name associated to an icon file name.  Modify
	DIRECTION_ICON_LIST in options to hold a list of DIRECTION_ICON,
	such that the direction names do not have to be known when filling
	direction icons information.  Remove converter arguments of
	html_build_direction_icons and html_get_direction_icons_sv.  Inline
	html_fill_direction_icons in html_get_direction_icons_sv.
	Add arrays of icon file name strings to CONVERTER, similar to the
	former direction icons options, filled with the new function
	html_prepare_direction_icons based on direction icons options, and use
	them in conversion in format_html.c.  Call
	html_prepare_direction_icons before starting the tree conversion.

2025-01-03  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/converter_types.h (CONVERTER): rename
	direction_unit_direction_name field as main_units_direction_names,
	special_units_direction_name as special_units_direction_names and
	global_units_direction_name as global_units_direction_names.  Update
	users.

	* tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_setup_global_units_direction_names): rename
	global_units_direction_names variable as global_units_directions_list
	and special_units_direction_name as special_units_direction_names.

2025-01-03  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/call_conversion_perl.c
	(call_sort_element_counts), tp/Texinfo/XS/convert/texinfo.c
	(txi_sort_element_counts), tp/Texinfo/XS/main/converter_types.h
	(CONVERTER_TEXT_INFO), tp/Texinfo/XS/texi2any.c (main): add a call to
	Perl sort_element_counts and a wrapper around in texinfo.c.
	Use it to implement handling SORT_ELEMENT_COUNT in texi2any.c.

2025-01-02  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/format_html.c (html_output_internal_links): 
	use sorted indices by name to determine the order of indices
	processing.

2025-01-02  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/utils.c (analyze_documentlanguage_argument),
	tp/Texinfo/XS/parsetexi/end_line.c (end_line_misc_line): move code
	checking documentlanguage validity to a function,
	analyze_documentlanguage_argument.

	* tp/Texinfo/XS/texi2any.c (main): check the validity of
	document-language option value.

2025-01-02  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Common.pm (warn_unknown_language): do not allow trailing
	characters after region code.

	* tp/Texinfo/XS/parsetexi/end_line.c (end_line_misc_line): warn about
	invalid @documentlanguage argument exactly like in Perl.

	* tp/Makefile.tres, tp/t/languages.t (invalid_documentlanguage): test
	invalid @documentlanguage.

2025-01-02  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/Makefile.am (C_libtexinfo_sources),
	tp/maintain/regenerate_documentlanguages-loc.pl, README-hacking:
	generate C source files with hash functions to check if a language or
	a region code is valid using gperf.

2025-01-02  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/call_conversion_perl.c
	(call_converter_output): do not get output_files_information from the
	Perl converter if it is already in the C converter.

2025-01-02  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c (txi_converter_output): allow
	output_files_information to be NULL.

2025-01-02  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (long_options, main): remove the
	demonstration mode.

2025-01-01  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/txi_config.c (program_file)
	(GNUT_initialize_customization, txi_config_document_warn),
	tp/Texinfo/XS/texi2any.c (main): pass address of program_file in
	GNUT_initialize_customization, to be able to dereference the value in
	txi_config_document_warn to get the modified strings, if they are
	modified.

2025-01-01  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (long_options, main): change the mimick
	option to only reset the program_file name, and have it change it as
	soon as the option is encountered.

	* tp/ctexi2any.pl: set the --mimick option to get texi2any in early
	messages.

2025-01-01  Gavin Smith <gavinsmith0123@gmail.com>

	Index initials in PDF outline
	
	* doc/texinfo.tex
	(\pdfmakeoutlines) [pdftex, xetex]: treat \idxinitialentry like
	@section.
	(\doindexinitialentry): New macro to create PDF target and
	entry in .toc file for index initial.
	(\initial): Call it.
	
	Suggestion from Werner Lemberg, bug-texinfo, 2024-11-10.

2025-01-01  Gavin Smith <gavinsmith0123@gmail.com>

	* INSTALL: mention gnulib-l10n soft dependency

2025-01-01  Patrice Dumas  <pertusus@free.fr>

	Implement internal links in C

	* tp/Texinfo/XS/convert/format_html.c (html_output_internal_links):
	implement output_internal_links.

	* tp/Texinfo/XS/texi2any.c (write_to_file): add function based on code
	related to macro expansion file;

	* tp/Texinfo/XS/texi2any.c (formats_table, long_options, main): add
	internal-links option and implement outputting internal links text.

2025-01-01  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XSLoader.pm (init): if embedded_xs is set, reset
	TEXINFO_XS variable and environment variable if TEXINFO_XS was omit,
	as it is not possible to omit XS if Perl is embedded.

	* tp/Texinfo/XS/convert/texinfo.c (txi_converter_setup): call fatal if
	call_convert_converter did not succeed.

	* tp/Texinfo/XSLoader.pm (_fatal): show message if embedded_xs is set.

2025-01-01  Gavin Smith <gavinsmith0123@gmail.com>

	No change for txicodevaristt

	* doc/texinfo.tex (\var): change comments to no longer say that
	we will turn off "@set txicodevaristt".  In practice users appear
	happy with the current behaviour.

	* TODO,
	* doc/texinfo.texi (@var): update

2025-01-01  Gavin Smith <gavinsmith0123@gmail.com>

	* doc/texinfo.tex (\b): Call \defcharsdefault so that
	"@defun foo @b{&bar}" doesn't break.

2025-01-01  Gavin Smith <gavinsmith0123@gmail.com>

	* doc/texinfo.tex (\opnr, \cpnr): unconditionally use \sf
	font for opening or closing parenthesis, regardless of
	whether an &keyword has been seen and whether we are at
	the first level of parenthesis. 
	
	The purpose of this was unknown but it was not correct for input
	such as:
	
	@defmac define-advice symbol (where lambda-list &optional name depth) &rest body

	where the closing ) would be printed in a different font to the
	opening (.

2025-01-01  Gavin Smith <gavinsmith0123@gmail.com>

	* po/ChangeLog, po_document/ChangeLog: delete these files
	as they only include automatically generated content

2025-01-01  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/Plaintext.pm (_process_text_internal): use a hash
	to substitute --- before -- instead of using a control character as
	placeholder, in case a binary file with that character is given in
	input.  Also to get the same output as in C.

	* tp/tests/formatting/Makefile.am (EXTRA_DIST),
	tp/tests/formatting/foo.info: add an input file for the
	info_extension_warning test such as to have an output independent of
	the build directory location.

2024-12-31  Gavin Smith <gavinsmith0123@gmail.com>

	Add pot headers to advertise both translation domains

	* po/texinfo.pot-header,
	* po_document/texinfo_document.pot-header: Add headers to be
	used at the start of texinfo.pot and texinfo_document.pot.  This
	will hopefully encourage more translators to translate the
	"texinfo_document" domain as well as "texinfo".
	* Makefile.am (EXTRA_DIST): Reference these files as they are
	not distributed otherwise.

2024-12-31  Gavin Smith <gavinsmith0123@gmail.com>

	Reset linemacro counter

	* tp/Texinfo/XS/parsetexi/macro.c (expand_linemacro_arguments):
	Declare COUNTER object as a local variable as it is not used
	outside the function.  Call counter_reset before and after using
	it.
	* tp/Texinfo/XS/parsetexi/counter.c (counter_element_value):
	adjust formatting.

2024-12-31  Gavin Smith <gavinsmith0123@gmail.com>

	Separate sui generis tp/t tests

	* tp/t/01use.t,
	* tp/t/accents.t,
	* tp/t/automatic_menus.t,
	* tp/t/automatic_nodes.t,
	* tp/t/convert_to_text.t,
	* tp/t/do_master_menu.t,
	* tp/t/index_before_item.t,
	* tp/t/no_structure_test.t,
	* tp/t/nodenormalization.t,
	* tp/t/paragraph.t,
	* tp/t/protect_character_in_texinfo.t,
	* tp/t/raw_text_converter.t,
	* tp/t/reference_to_text_in_tree.t,
	* tp/t/same_parser_multiple_files.t,
	* tp/t/test_brace_count.t,
	* tp/t/test_converter_option.t,
	* tp/t/test_document.t,
	* tp/t/test_fill_gaps_in_sectioning.t,
	* tp/t/test_is_content_empty.t,
	* tp/t/test_parse_texi_line.t,
	* tp/t/test_protect_contents.t,
	* tp/t/test_protect_hashchar_at_line_beginning.t,
	* tp/t/test_sort.t,
	* tp/t/test_tree_copy.t:
	Move all these tests to a subdirectory, tp/t/z_misc.  These
	are the tests that do not use the tp/t/test_utils.pl framework.
	This makes it clearer which tests may need manual updating as
	"maintain/all_tests.sh generate" won't work for these.  It also
	means that our instructions for running these tests with valgrind
	(by changing Perl::Destruct::Level test_utils.pl) do not work and
	this will make this exception more apparent.

2024-12-30  Gavin Smith <gavinsmith0123@gmail.com>

	Italic correction on def line

	* doc/texinfo.tex (\opnr, \cpnr):
	add an italic correction before parenthesis.
	(\defunargs) <@set codevaristt>:
	add a kern at end of redefintion of @var to prevent italic correction.

2024-12-30  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): free macro expansion file output
	files information.

2024-12-30  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/convert_utils.c (register_unclosed_file), 
	tp/Texinfo/XS/main/utils.c (new_output_files_information)
	(allocate_file_stream): add allocate_file_stream based on
	register_unclosed_file code, with code doing the allocation of a
	FILE_STREAM in OUTPUT_FILES_INFORMATION unclosed_files.  Add
	new_output_files_information.

	* tp/Texinfo/XS/convert/call_conversion_perl.c
	(call_converter_output), tp/Texinfo/XS/convert/texinfo.c
	(txi_converter_output), tp/Texinfo/XS/main/converter_types.h
	(OUTPUT_TEXT_FILES_INFO), tp/Texinfo/XS/main/get_perl_info.c
	(get_output_files_information): in call_converter_output, call also
	converter->output_files_information and return both the output text
	and output files information in OUTPUT_TEXT_FILES_INFO struct.
	Add get_output_files_information to setup OUTPUT_FILES_INFORMATION
	based on Perl data returned by converter->output_files_information.
	Copy opened_files and unclosed_files returned by call_converter_output
	to the converter output_files_information in txi_converter_output.

2024-12-30  Gavin Smith <gavinsmith0123@gmail.com>

	* info/scan.c (INFO_QUOTE, INFO_QUOTE_STR):
	Define to avoid using \177 literals or equivalent.  This should
	make the purpose of the code clearer.
	(scan_node_contents, read_quoted_string)
	(scan_reference_target, scan_reference_label): Use.
	(scan_reference_label): Do not check for INFO_QUOTE in a place
	it should not be necessary.

2024-12-30  Gavin Smith <gavinsmith0123@gmail.com>

	". " terminator for index entry node name

	* info/scan.c (scan_reference_target):
	First check for a ". " and ".\n" terminator for node name in menu,
	rather than just a ".".  This allows index entries referring to
	nodes with "." in their names.  Report from Bruno Haible.

2024-12-30  Gavin Smith <gavinsmith0123@gmail.com>

	* info/scan.c [__hpux]: remove define of __va_copy which isn't
	used in this file.

2024-12-30  Gavin Smith <gavinsmith0123@gmail.com>

	Remove def formatting font switching

	* doc/texinfo.tex (\cpnr): remove conditional switch to \sl
	font after a close bracket (but only for the outermost level of
	brackets).
	(\infirstlevel): remove now unused macro

2024-12-30  Gavin Smith <gavinsmith0123@gmail.com>

	Remove \bfafterword for def formatting

	* doc/texinfo.tex (\bfafterword): Remove.  This made the
	second word in parentheses bold on a definition line, but
	only after an &keyword.  So in "@defun func &word (foo bar)",
	"bar" would be printed in bold.
	
	I do not know the purpose of this but it is presumably something
	to do with Emacs Lisp syntax.  But in some cases in the Emacs Lisp
	manual this font style appeared inappropriate, for example in
	
	@defmac cl-defmethod name [qualifier] arguments [&context (expr spec)@dots{}] &rest [docstring] body
	
	the word "spec" was in bold, and nothing else.  As no attempt is
	made to do anything like this in texi2any and it is likely not
	appropriate in many cases, we are better getting rid of the feature.

2024-12-30  Gavin Smith <gavinsmith0123@gmail.com>

	* doc/texinfo.tex (\boldbrax, \parenbrackglpyhs):
	Rename \boldbrax as it is not just for square brackets and
	does not only use bold.
	(\clnr, \cpnr): Rename to \cpnr as the old name does not
	seem to make sense.
	(\opnr,  \cpnr, \lbrb, \rbrb):
	Add comments about what the names of the macros stand for.

2024-12-30  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/Text.pm (converter_line_error)
	(converter_document_warn, get_converter_errors): implement the
	functions needed in Texinfo::Convert::Utils::expand_verbatiminclude to
	get the error messages by using the Texinfo::Convert::Converter code.

	* tp/Texinfo/XS/convert/ConvertXS.xs (text_convert_tree),
	tp/Texinfo/XS/main/convert_to_text.c (destroy_text_options)
	(convert_to_text_internal), tp/Texinfo/XS/main/convert_to_text.h
	(TEXT_OPTIONS): add ERROR_MESSAGE_LIST error_messages field to
	TEXT_OPTIONS.  Use if for verbatiminclude if there is no associated
	converter, be it text or other output converter, which means that we
	are in C called from Perl Text Converter.  Pass the error_messages
	information back to Perl.

	* tp/Texinfo/Convert/Text.pm (import): use a hash to specify overriden
	functions.

2024-12-30  Gavin Smith <gavinsmith0123@gmail.com>

	* tp/tests/run_parser_all.sh (post_process_output):
	Do not create raw output directory except in certain cases,
	as stderr output is no longer filtered for all tests.

2024-12-29  Gavin Smith <gavinsmith0123@gmail.com>

	No skipping lines after no-arg macro at end of line

	* doc/texinfo.tex (\endlineisspace, \ignoreactivenewline):
	Replace \endlineisspace with \ignoreactivenewline.
	(\macrodef) <no args>: Call \ignoreactivenewline.  Rather
	than changing the catcode of newline to space so that newlines
	following the macro name are skipped, this only changes the definition
	of active newline so that it is ignored.  This is an issue if
	the macro is called at the end of a line inside an environment
	such as @example where newlines are active, at the end of a line.
	* doc/texinfo-tex-test.texi (Braceless at end of line):
	update test cases.

2024-12-29  Gavin Smith <gavinsmith0123@gmail.com>

	* tp/tests/run_parser_all.sh (post_process_output):
	Remove code stripping out lines with file names from output
	as we unconditionally use forward slash as the directory separator,
	so results should not be different on MS-Windows.

2024-12-28  Gavin Smith <gavinsmith0123@gmail.com>

	Move defines out of system.h

	* system.h [O_BINARY]:
	Remove some system-dependent defines.
	* info/info.h [O_BINARY]:
	Re-add defines which were relevant to 'info'.
	* install-info/install-info.c: [O_BINARY]
	Re-add defines for NULL_DEVICE.

2024-12-28  Gavin Smith <gavinsmith0123@gmail.com>

	Rename config.in to config.h.in.

	* configure.ac (AM_INIT_AUTOMAKE),
	* tp/Texinfo/XS/configure.ac (AM_INIT_AUTOMAKE):
	Move config.in to config.h.in.

2024-12-28  Gavin Smith <gavinsmith0123@gmail.com>

	Remove DJGPP support

	* configure.ac,
	* tp/Texinfo/XS/configure.ac:
	Do not check for "msdosdjgpp" in $host.  Comments changed.

	* tp/Texinfo/XS/main/utils.c (null_device_names),
	* tp/Texinfo/Common.pm (%null_device_file):
	Remove special case for djgpp for checking for name of null
	device.

	* INSTALL,
	* README,
	* Makefile.am (EXTRA_DIST, po-check, po_document-check):
	Remove djgpp subdirectory.

	* djgpp/config.sed: deleted
	* djgpp/README: deleted
	* djgpp/config.bat: deleted
	* djgpp/config.site: deleted

2024-12-27  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): add set_message_encoding and set
	the variable to the customized MESSAGE_ENCODING value.  Use
	set_message_encoding for calls to txi_handle_*error_messages.

	* tp/Texinfo/XS/convert/texinfo.c (txi_parser): remove locale_encoding
	argument, take it from options_list only.  Update caller.

2024-12-27  Patrice Dumas  <pertusus@free.fr>

	Raw text converter in C

	* tp/Texinfo/XS/convert/converter.c, tp/Texinfo/XS/main/utils.c
	(STRING_AND_LEN, texinfo_extensions, remove_extension, canonpath)
	(determine_files_and_directory, texinfo_input_file_basename): move
	remove_extension and canonpath to utils.c.  Create
	texinfo_input_file_basename in utils.c based on
	determine_files_and_directory code, move STRING_AND_LEN and
	texinfo_extensions to utils.c.

	* tp/Texinfo/XS/convert/converter.c (apply_converter_info)
	(write_or_return), tp/Texinfo/XS/main/converter_types.h
	(ENCODING_CONVERSION): make apply_converter_info and write_or_return
	public, move ENCODING_CONVERSION to converter_types.h.

	* tp/Texinfo/XS/convert/converter.c (init_generic_converter)
	(copy_translated_commands, free_translated_commands)
	(apply_converter_info, clear_converter_initialization_info)
	(destroy_converter_initialization_info)
	(copy_converter_initialization_info),
	tp/Texinfo/XS/main/converter_types.h (TRANSLATED_COMMAND_LIST)
	(CONVERTER, CONVERTER_INITIALIZATION_INFO), tp/Texinfo/XS/main/utils.c
	(add_translated_command, clear_translated_commands),
	tp/Texinfo/XS/main/build_perl_info.c (set_translated_commands,
	get_converter_info_from_sv): add TRANSLATED_COMMAND_LIST for
	translated command list with the number of items.  Use it instead of
	TRANSLATED_COMMAND arrays in CONVERTER_INITIALIZATION_INFO and
	CONVERTER.  Add add_translated_command and clear_translated_commands
	and modify the other functions.  Update callers.

	* tp/Texinfo/XS/Makefile.am (C_libtexinfo_convert_sources),
	tp/Texinfo/XS/convert/rawtext_converter_api.c (rawtext_converter)
	(initialize_options_encoding, rawtext_output, rawtext_convert)
	(rawtext_convert_tree), tp/Texinfo/XS/convert/converter.c
	(converter_format_data), tp/Texinfo/XS/main/converter_types.h (enum
	converter_format), tp/Texinfo/XS/texi2any.c (formats_table): add
	rawtext converter.

	* tp/Texinfo/Convert/Text.pm (_initialize_options_encoding): change a
	variable name.

2024-12-26  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/converter.c (converter_format_data)
	(converter_converter), tp/Texinfo/XS/convert/converter.h
	(CONVERTER_FORMAT_DATA): add converter_converter field in
	CONVERTER_FORMAT_DATA and use it in converter_converter to be able to
	do a different converter initialization for a format.

	* tp/Texinfo/XS/convert/converter.c (set_converter_init_information),
	tp/texi2any.pl: handle NULL/undef converter_defaults return.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	PlainTexinfo converter in C

	* tp/Texinfo/Convert/PlainTexinfo.pm (%defaults),
	tp/Texinfo/Convert/converters_defaults.txt (plaintexinfo_converter):
	add PlainTexinfo converter defaults to converters_defaults.txt.

	* tp/Texinfo/XS/convert/converter.c (converter_defaults)
	(converter_conversion_initialization): add default implementations.

	* tp/Texinfo/XS/convert/converter.h (CONVERTER_FORMAT_DATA),
	tp/Texinfo/XS/convert/converter.c (write_or_return)
	(converter_output_tree): implement converter_output_tree.

	* tp/Texinfo/XS/Makefile.am (C_libtexinfo_convert_sources),
	tp/Texinfo/XS/convert/plaintexinfo_converter_api.c
	(plaintexinfo_converter_defaults, plaintexinfo_output)
	(plaintexinfo_convert, plaintexinfo_convert_tree): implement a
	converter for PlainTexinfo.

	* tp/Texinfo/XS/texi2any.c (formats_table),
	tp/Texinfo/XS/convert/converter.c (converter_format_data):
	register the PlainTexinfo C converter.

	* tp/Texinfo/XS/texi2any.c (main): check if FORMAT_MENU string is set
	before accessing.

	* tp/Texinfo/XS/main/document.c (set_document_options): free temporary
	document_options options list.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/document.c (set_document_options): replace
	initialize_document_options by set_document_options, which uses a
	temporary OPTIONS_LIST and uses program_options, cmdline_options
	and init_files_options too to set document options.  Similar to Perl
	code setting MainConfig, filling with document options, calling
	get_customization_options_hash and register_document_options.

	* tp/Texinfo/XS/convert/texinfo.c (txi_complete_document),
	tp/Texinfo/XS/texi2any.c (main): call set_document_options in main
	program, not in txi_complete_document.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/customization_options.c
	(show_options_list_options_set), tp/Texinfo/XS/main/utils.c
	(sort_strings_list, join_strings_list): add functions to sort and join
	strings list, and function to show the options set in OPTIONS_LIST,
	to be used for debugging.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): set program_file to be "texi2any"
	if TEST is set.

	* tp/Texinfo/XS/texi2any.c (main): if FORMAT_MENU is not set at all,
	consider that menus are to be checked.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): reset the format_specification to
	the converted format format_specification if the output format is
	different from the converted format.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/maintain/change_perl_modules_version.sh,
	tp/Texinfo/XS/configure.ac (TEXINFO_DTD_VERSION)
	(TEXINFO_DTD_VERSION_CONFIG): add TEXINFO_DTD_VERSION to
	tp/Texinfo/XS/configure.ac.  Synchronize with top-level configure.ac
	value in change_perl_modules_version.sh, set as
	TEXINFO_DTD_VERSION_CONFIG in AC_DEFINE_UNQUOTED.

	* tp/Texinfo/XS/convert/texinfo.c (txi_set_base_default_options):
	set TEXINFO_DTD_VERSION based on TEXINFO_DTD_VERSION_CONFIG.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c (main): load HTML Perl module based on init
	files being loaded but also based on customization variables values
	requiring Perl, using the same rules as in build_html_perl_info.c
	html_pass_conversion_initialization.  Determine if
	CONVERT_TO_LATEX_IN_MATH will be set as in
	html_initialize_output_state.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Config.pm (%XS_overrides), tp/Texinfo/XS/main/ConfigXS.xs
	(texinfo_set_format_from_init_file), tp/Texinfo/XS/main/txi_config.c
	(texinfo_set_format_from_init_file, GNUT_get_format_from_init_file),
	tp/Texinfo/XS/texi2any.c (main): add Texinfo::Config
	format_from_init_file XS interface.

	* tp/Texinfo/XS/convert/convert_html.c (html_convert_tree_append): set
	an empty string if call_latex_convert_to_latex_math returns NULL.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/customization_options.c
	(new_converter_initialization_info),
	tp/Texinfo/XS/convert/converter.c: move
	new_converter_initialization_info to customization_options.c such that
	it may be called in get_perl_info.c.

	* tp/Texinfo/XS/convert/get_converter_perl_info.c,
	tp/Texinfo/XS/main/get_perl_info.c (set_translated_commands)
	(get_deprecated_config_directories_sv, get_converter_info_from_sv):
	move to get_perl_info.c such that it is available to functions in
	call_conversion_perl.c.

	* tp/Texinfo/XS/convert/call_conversion_perl.c
	(call_converter_converter_defaults), tp/Texinfo/XS/convert/texinfo.c
	(txi_converter_format_defaults): add call_converter_converter_defaults
	to get converter defaults from Perl.  Add module argument to
	txi_converter_format_defaults and call
	call_converter_converter_defaults if set.

	* tp/Texinfo/XS/main/utils.c (main): do not exist explicitely,
	handle_errors should exit if there are errors, otherwise there should
	be a normal exit.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/ctexi2any.pl: add a ctexi2any wrapper that can be called as a
	Perl script, to be called for tests.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/ConfigXS.xs (texinfo_set_from_init_file),
	tp/Texinfo/XS/main/txi_config.c (warn_obsolete_options)
	(texinfo_find_init_file_option_name, GNUT_set_from_init_file):
	warn for obsolete options and ignore.  This is different from Perl
	where values and option names may be mapped.

2024-12-25  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/Makefile.am (C_libtexinfo_sources),
	tp/Texinfo/XS/main/txi_config.c (GNUT_initialize_customization)
	(GNUT_get_conf, GNUT_decode_input, GNUT_encode_message)
	(txi_config_document_warn, set_option_value)
	(GNUT_set_customization_default, GNUT_set_from_cmdline)
	(GNUT_set_from_init_file, txi_config_add_to_option_list)
	(txi_config_remove_from_option_list), tp/Texinfo/XS/texi2any.c:
	move configuration related functions out of texi2any.c to the new
	main/txi_config.c file to get an interface similar to Texinfo::Config.

	* tp/Makefile.am (modulesdir), tp/Texinfo/Config.pm (%XS_overrides)
	(import), tp/Texinfo/ConfigXS.pm, tp/Texinfo/XS/Makefile.am
	(xs_LTLIBRARIES, ConfigXS_la_*), tp/Texinfo/XS/main/txi_config.c
	(texinfo_get_conf_by_name) (texinfo_find_command_line_option_name)
	(texinfo_find_init_file_option_name)
	(texinfo_command_line_option_add_option_number): add an XS interface
	for Texinfo::Config functions related to customization options.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	README-hacking, tp/Texinfo/XS/convert/call_conversion_perl.c: add
	call_conversion_perl as needing ppport.h, and follow ppport.h
	suggestion to include ppport.h.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	Update po files.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* po/POTFILES.in: replace teximakehtml.c by texi2any.c.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/texi2any.c, tp/Texinfo/XS/Makefile.am
	(teximakehtml_SOURCES, ctexi2any_SOURCES): rename teximakehtml.c as
	texi2any.c.

	* tp/texi2any.pl: remove end of line from translated string.

	* tp/Texinfo/XS/texi2any.c (main): use the leading message of
	texi2any.pl.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (formats_table, long_options)
	(main): add formats with Perl modules specifications and options.
	Load the corresponding Perl module to output the format.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/call_conversion_perl.c (call_eval_use_module)
	(call_config_GNUT_load_init_file), tp/Texinfo/XS/convert/texinfo.c
	(txi_converter_output_format_setup), tp/Texinfo/XS/teximakehtml.c
	(main): add call_eval_use_module that evals use module to load a
	module.  Pass external_module to txi_converter_output_format_setup
	to call call_eval_use_module.

	* tp/init/book.pm (book_unit_file_name): always return a two elements
	list.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/LaTeX.pm (convert_math_to_images): add
	parentheses to Cwd::abs_path to avoid being considered as a bareword.
	Found in the opencsw CI.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/ParserNonXS.pm: remove _print_command_args_texi, it
	is better to call Texinfo::Convert::Texinfo functions.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/HTML.pm (_convert),
	tp/Texinfo/XS/convert/convert_html.c (html_convert_tree_append):
	remove the condition on arguments_list being set, it is always the
	case.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/HTML.pm (_convert),
	tp/Texinfo/XS/convert/convert_html.c (html_convert_tree_append): check
	only that brace command is not empty when determining if there are
	arguments, as other commands cannot be empty.

	* tp/Texinfo/Convert/Text.pm: change in comments.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	always use arguments being line_arg to determine if item in table

	* tp/Texinfo/Convert/DocBook.pm (_convert), tp/Texinfo/Convert/HTML.pm
	(_convert_item_command, _convert), tp/Texinfo/Convert/TexinfoMarkup.pm
	(_convert), tp/Texinfo/Convert/Text.pm (_convert),
	tp/Texinfo/Convert/TextContent.pm (_convert),
	tp/Texinfo/XS/convert/convert_html.c (html_convert_tree_append),
	tp/Texinfo/XS/convert/format_html.c (html_convert_item_command),
	tp/Texinfo/XS/main/builtin_commands.c (element_builtin_data_cmd):
	always check that the argument is a line_arg to determine that an item
	is to be considered a line command, in a @table or similar, instead of
	using the type of the parent element,

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	rename argument type as arguments_line

	* tp/Texinfo/ParserNonXS.pm (_parse_macro_command_line)
	(_handle_line_command, _handle_block_command),
	tp/Texinfo/Structuring.pm (new_block_command),
	tp/Texinfo/Transformations.pm (_new_node),
	tp/Texinfo/XS/main/element_types.txt,
	tp/Texinfo/XS/parsetexi/handle_commands.c (handle_line_command)
	(handle_block_command), tp/Texinfo/XS/parsetexi/macro.c
	(parse_macro_command_line),
	tp/Texinfo/XS/structuring_transfo/structuring.c (new_block_command),
	tp/Texinfo/XS/structuring_transfo/transformations.c
	(fill_gaps_in_sectioning, new_node): rename argument type as
	arguments_line.  Update users.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/ParserNonXS.pm (_parse_macro_command_line): reorganize
	code to be more similar with the corresponding C code.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/ParserNonXS.pm (_parse_macro_command_line),
	tp/Texinfo/XS/parsetexi/macro.c (parse_macro_command_line): do not set
	info arg_line for @*macro as the information is already in first
	content argument text content.  Make @macro element a block command
	type in C.

	* tp/Texinfo/Convert/TexinfoMarkup.pm (_convert): get @*macro line
	from text in argument, the first content.

	* tp/Texinfo/Convert/Texinfo.pm (_convert_to_texinfo),
	tp/Texinfo/XS/main/convert_to_texinfo.c (convert_to_texinfo_internal):
	handle command with line arguments in first content before line
	commands with arg_line.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/ParserNonXS.pm (_parse_macro_command_line)
	(_expand_macro_arguments, _expand_linemacro_arguments)
	(_lookup_macro_parameter, _expand_macro_body, _handle_macro)
	(_process_macro_block_contents), tp/Texinfo/XS/main/element_types.txt,
	tp/Texinfo/XS/parsetexi/macro.c (parse_macro_command_line)
	(lookup_macro_parameter, expand_macro_arguments)
	(expand_linemacro_arguments, expand_macro_body, handle_macro),
	tp/Texinfo/XS/parsetexi/parser.c (process_macro_block_contents): put
	@*macro line in first content argument element as macro_line text
	type.  Put macro name in extra "macro_name" and formal args array in
	extra "misc_args".  Remove macro_name and macro_arg types, add
	macro_name extra item.

	* tp/Texinfo/Convert/TexinfoMarkup.pm (_convert): adapt to change in
	tree.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/Texinfo.pm (_convert_to_texinfo, _convert_args),
	tp/Texinfo/XS/main/convert_to_texinfo.c (convert_args)
	(convert_to_texinfo_internal): add convert_args for expansion of
	arguments separated by commas.

	* tp/Texinfo/Convert/Texinfo.pm (_convert_to_texinfo),
	tp/Texinfo/XS/main/convert_to_texinfo.c (convert_to_texinfo_internal):
	change conditions to group more by type of commands.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/Text.pm (_convert): check line_commands instead
	of converted_formattable_line_commands.  Remove
	%converted_formattable_line_commands.

	* tp/Texinfo/XS/main/convert_to_text.c (convert_to_text_internal):
	modify code to be more similar to corresponding Perl code.

	* tp/maintain/regenerate_commands_perl_info.pl: remove unused
	%converter_flag variable.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	remove remaining args from line commands and from Texinfo tree

	* tp/Texinfo/ParserNonXS.pm (_parse_float_type),
	tp/Texinfo/XS/main/floats.c (parse_float_type): let callers determine
	the element with the Texinfo code corresponding to the float
	identifier.  Update callers.

	* tp/Texinfo/Common.pm (informative_command_value)
	(index_content_element), tp/Texinfo/ParserNonXS.pm
	(_is_container_empty, _end_line_misc_line, _end_line_starting_block)
	(_handle_line_command, _handle_comma, _parse_line_command_args),
	tp/Texinfo/Structuring.pm (new_block_command),
	tp/Texinfo/Transformations.pm (_correct_level),
	tp/Texinfo/XS/main/manipulate_indices.c (index_content_element),
	tp/Texinfo/XS/main/utils.c (informative_command_value),
	tp/Texinfo/XS/parsetexi/close.c (is_container_empty),
	tp/Texinfo/XS/parsetexi/end_line.c (parse_line_command_args)
	(end_line_starting_block, end_line_misc_line),
	tp/Texinfo/XS/parsetexi/handle_commands.c (handle_line_command),
	tp/Texinfo/XS/parsetexi/separator.c (handle_comma),
	tp/Texinfo/XS/structuring_transfo/structuring.c (new_block_command),
	tp/Texinfo/XS/structuring_transfo/transformations.c (correct_level):
	use contents instead of args for non root line commands.

	* tp/Texinfo/ManipulateTree.pm
	(_relate_index_entries_to_table_items_in): avoid spurious
	autovivification.

	* tp/Texinfo/OutputUnits.pm (units_directions),
	tp/Texinfo/XS/main/output_unit.c, (units_directions): use contents to
	determine if a node has automatic directions.

	* tp/Texinfo/Common.pm (_collect_commands_in_tree)
	(_collect_commands_list_in_tree, debug_print_element, debug_hash),
	tp/Texinfo/ManipulateTree.pm (_copy_tree, _remove_element_copy_info)
	(modify_tree), tp/Texinfo/Translations.pm (_substitute),
	tp/Texinfo/XS/main/build_perl_info.c (element_to_perl_hash),
	tp/Texinfo/XS/main/debug.c (print_element_debug),
	tp/Texinfo/XS/main/manipulate_tree.c (copy_tree_internal)
	(remove_element_copy_info, modify_tree),
	tp/Texinfo/XS/main/translations.c (substitute),
	tp/Texinfo/XS/main/tree.c (destroy_element)
	(destroy_element_and_children), tp/Texinfo/XS/main/tree_types.h
	(CONTAINER), tp/Texinfo/XS/parsetexi/debug_parser.c
	(print_element_debug_parser), tp/t/test_utils.pl (@contents_keys):
	remove code going through args as there are no args anymore.  Remove
	add_to_element_args, insert_into_args, insert_list_slice_into_args,
	remove_from_args, pop_element_from_args, last_args_child and
	args_child_by_index from tree.c.

	* tp/Texinfo/Convert/DocBook.pm (_convert),
	tp/Texinfo/Convert/LaTeX.pm (_convert),
	tp/Texinfo/Convert/Plaintext.pm (_convert), tp/Texinfo/Convert/Text.pm
	(_convert), tp/Texinfo/XS/main/convert_to_text.c
	(convert_to_text_internal): return right after a line command is
	formatted.

	* tp/Texinfo/Convert/HTML.pm (_convert): add $data_command_name set
	to item_LINE for @item in @*table, as in C.

	* tp/Texinfo/Convert/Texinfo.pm (_convert_to_texinfo),
	tp/Texinfo/XS/main/convert_to_texinfo.c (convert_to_texinfo_internal):
	reorganize code, inlining _expand_cmd_args_to_texi in
	_convert_to_texinfo and updating for the change of args to contents
	for line commands.

	* tp/Texinfo/Convert/Converter.pm
	(normalized_sectioning_command_filename)
	(format_comment_or_return_end_line, table_item_content_tree)
	(comma_index_subentries_tree), tp/Texinfo/Convert/DocBook.pm
	(conversion_output_begin, _index_entry)
	(_convert_argument_and_end_line, _convert), tp/Texinfo/Convert/HTML.pm
	(_internal_command_tree, command_description)
	(_convert_quotation_command, _convert_item_command)
	(_convert_printindex_command, _convert_menu_entry_type)
	(_prepare_simpletitle, _prepare_converted_output_info, _convert),
	tp/Texinfo/Convert/IXIN.pm, tp/Texinfo/Convert/Info.pm (_info_header),
	tp/Texinfo/Convert/LaTeX.pm (_prepare_conversion, _title)
	(_include_file_name, _convert),
	tp/Texinfo/Convert/NodeNameNormalization.pm (_convert),
	tp/Texinfo/Convert/Plaintext.pm (_convert),
	tp/Texinfo/Convert/TexinfoMarkup.pm (_end_line_spaces, _texinfo_line)
	(_convert_argument_and_end_line, _convert), tp/Texinfo/Convert/Text.pm
	(_convert), tp/Texinfo/Convert/TextContent.pm (_convert),
	tp/Texinfo/DebugTree.pm (_print_tree), tp/Texinfo/Indices.pm
	(_idx_leading_text_or_command), tp/Texinfo/XS/convert/convert_html.c
	(html_prepare_simpletitle, html_prepare_converted_output_info)
	(html_convert_tree_append), tp/Texinfo/XS/convert/converter.c
	(normalized_sectioning_command_filename, table_item_content_tree)
	(comma_index_subentries_tree), tp/Texinfo/XS/convert/format_html.c
	(html_command_description, html_convert_quotation_command)
	(html_convert_item_command, html_convert_printindex_command)
	(html_convert_menu_entry_type), tp/Texinfo/XS/main/convert_to_text.c
	(convert_to_text_internal), tp/Texinfo/XS/main/manipulate_indices.c
	(idx_leading_text_or_command),
	tp/Texinfo/XS/main/node_name_normalization.c
	(convert_to_normalized_internal), tp/ext/epub3.pm (epub_finish),
	tp/init/documentation_examples.pm
	(my_test_documentation_convert_index_entry_command_type),
	tp/t/init/ignore_and_comments_output.init (convert_comment_command),
	tp/t/init/redefine_need.init (my_need_formatting): update for
	replacement of args by contents for line commands for conversion.

	* tp/t/01use.t ($manual_tree): update for replacement of args by
	contents.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	root line commands in 'argument' container in contents

	* tp/Texinfo/Common.pm (is_content_empty), tp/Texinfo/XS/main/utils.c
	(is_content_empty): ignore argument type.

	* tp/Texinfo/XS/convert/format_html.c (html_open_quotation_command):
	remove incorrect const.

	* tp/Texinfo/Common.pm (get_label_element), tp/Texinfo/XS/main/utils.c
	(get_label_element), tp/Texinfo/ParserNonXS.pm (_end_line_misc_line)
	(_check_valid_nesting, _handle_line_command)
	(_process_remaining_on_line, _parse_line_command_args),
	tp/Texinfo/Structuring.pm (check_nodes_are_referenced, nodes_tree)
	(new_node_menu_entry, new_block_command, new_complete_node_menu)
	(_print_down_menus), tp/Texinfo/Transformations.pm
	(fill_gaps_in_sectioning, _new_node)
	(_get_non_automatic_nodes_with_sections),
	tp/Texinfo/XS/parsetexi/end_line.c (parse_line_command_args)
	(end_line_misc_line), tp/Texinfo/XS/parsetexi/handle_commands.c
	(handle_line_command), tp/Texinfo/XS/parsetexi/parser.c
	(check_valid_nesting, process_remaining_on_line),
	tp/Texinfo/XS/structuring_transfo/structuring.c (new_block_command)
	(check_nodes_are_referenced, complete_node_tree_with_menus, nodes_tree)
	(new_node_menu_entry, new_complete_node_menu, print_down_menus),
	tp/Texinfo/XS/structuring_transfo/transformations.c
	(fill_gaps_in_sectioning, new_node)
	(insert_nodes_for_sectioning_commands)
	(get_non_automatic_nodes_with_sections): put arguments of root line
	commands (@node, sectioning commands) in the first content in the
	argument container type, remove args.

	* tp/Texinfo/Convert/Converter.pm
	(normalized_sectioning_command_filename, set_output_units_files)
	(format_comment_or_return_end_line, sort_element_counts),
	tp/Texinfo/Convert/DocBook.pm (conversion_output_begin)
	(_convert_argument_and_end_line, _convert), tp/Texinfo/Convert/HTML.pm
	(_internal_command_tree, _convert_heading_command)
	(_file_header_information, _prepare_converted_output_info)
	(_node_redirections), tp/Texinfo/Convert/LaTeX.pm (_convert),
	tp/Texinfo/Convert/NodeNameNormalization.pm (_convert),
	tp/Texinfo/Convert/Plaintext.pm (process_footnotes, format_contents)
	(_convert), tp/Texinfo/Convert/Texinfo.pm
	(root_heading_command_to_texinfo), tp/Texinfo/Convert/TexinfoMarkup.pm
	(_convert), tp/Texinfo/Convert/Text.pm (_convert),
	tp/Texinfo/XS/convert/convert_html.c (fulltitle_cmds)
	(html_prepare_converted_output_info, html_node_redirections),
	tp/Texinfo/XS/convert/converter.c
	(normalized_sectioning_command_filename),
	tp/Texinfo/XS/convert/format_html.c (html_internal_command_tree)
	(file_header_information, html_convert_heading_command),
	tp/Texinfo/XS/main/convert_to_texinfo.c
	(root_heading_command_to_texinfo),
	tp/Texinfo/XS/main/convert_to_text.c (convert_to_text_internal),
	tp/Texinfo/XS/main/node_name_normalization.c
	(convert_to_normalized_internal), tp/ext/epub3.pm (epub_finish),
	tp/init/chm.pm (chm_init): update conversion code for change in root
	commands tree.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	use contents for definition lines instead of args

	* tp/Texinfo/ParserNonXS.pm (_handle_line_command)
	(_handle_block_command), tp/Texinfo/Translations.pm
	(complete_indices), tp/Texinfo/XS/parsetexi/handle_commands.c
	(handle_line_command, handle_block_command),
	tp/Texinfo/XS/parsetexi/indices.c (complete_indices): use contents for
	definition lines in tree instead of args.

	* tp/Texinfo/Convert/DocBook.pm (_convert),
	tp/Texinfo/Convert/LaTeX.pm (_convert),
	tp/Texinfo/Convert/Plaintext.pm (_convert),
	tp/Texinfo/Convert/TexinfoMarkup.pm (_convert),
	tp/Texinfo/Convert/Text.pm (_convert): return right after converting
	definition line.

	* tp/Texinfo/Convert/DocBook.pm (_convert_def_line),
	tp/Texinfo/Convert/TexinfoMarkup.pm (_end_line_spaces)
	(_convert_def_line), tp/Texinfo/Convert/Utils.pm
	(definition_arguments_content, definition_category_tree),
	tp/Texinfo/XS/main/convert_utils.c (definition_arguments_content)
	(definition_category_tree): update for change in definition line in
	tree.

	* tp/Texinfo/Convert/Texinfo.pm (_convert_to_texinfo)
	(_expand_cmd_args_to_texi), tp/Texinfo/XS/main/convert_to_texinfo.c
	(expand_cmd_args_to_texi, convert_to_texinfo_internal): update for
	change in definition line in tree.  Simplify code by handling
	definition lines as regular contents containers and by simplifying the
	cases if arguments formatting.

	* tp/Texinfo/Convert/TextContent.pm (%ignored_types, _convert): update
	for change in definition line in tree.  Format argument container type
	like any other container.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	remaining non-definition block commands 'argument' container in contents

	* tp/Texinfo/ParserNonXS.pm (_gather_def_item)
	(_end_line_starting_block, _handle_block_command),
	tp/Texinfo/XS/parsetexi/def.c (gather_def_item),
	tp/Texinfo/XS/parsetexi/end_line.c (end_line_starting_block),
	tp/Texinfo/XS/parsetexi/handle_commands.c (handle_block_command): put
	arguments of block commands with items in the first content in the
	argument container type, remove args.

	* tp/Texinfo/Convert/DocBook.pm (_convert), tp/Texinfo/Convert/HTML.pm
	(_convert_preformatted_command, _open_quotation_command, _convert),
	tp/Texinfo/Convert/LaTeX.pm (_set_environment_options, _convert)
	(convert_math_to_images), tp/Texinfo/Convert/Plaintext.pm (_convert),
	tp/Texinfo/Convert/TextContent.pm (_convert),
	tp/Texinfo/XS/convert/convert_html.c (html_convert_tree_append),
	tp/Texinfo/XS/convert/format_html.c
	(html_convert_preformatted_command, html_open_quotation_command),
	tp/ext/highlight_syntax.pm (_get_language)
	(highlight_preformatted_command), tp/ext/latex2html.pm (l2h_process),
	tp/ext/tex4ht.pm (tex4ht_prepare): update for change in quotation,
	cartouche and example tree.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	block commands with items in 'argument' container in contents

	* tp/Texinfo/ParserNonXS.pm (_gather_previous_item)
	(_close_command_cleanup, _close_command_cleanup, _end_line_misc_line)
	(_end_line_starting_block, _parent_of_command_as_argument)
	(_register_command_as_argument, _handle_other_command)
	(_handle_block_command, _handle_open_brace),
	tp/Texinfo/XS/convert/format_html.c (html_convert_itemize_command),
	tp/Texinfo/XS/parsetexi/close.c (close_command_cleanup),
	tp/Texinfo/XS/parsetexi/end_line.c (end_line_starting_block)
	(end_line_misc_line), tp/Texinfo/XS/parsetexi/handle_commands.c
	(handle_other_command, handle_block_command),
	tp/Texinfo/XS/parsetexi/multitable.c (gather_previous_item),
	tp/Texinfo/XS/parsetexi/parser.c (parent_of_command_as_argument)
	(register_command_as_argument), tp/Texinfo/XS/parsetexi/separator.c
	(handle_open_brace): put arguments of block commands with items in the
	first content in the argument container type, remove args.

	* tp/Texinfo/Convert/DocBook.pm (_convert), tp/Texinfo/Convert/HTML.pm
	(_convert_itemize_command), tp/Texinfo/Convert/LaTeX.pm
	(_set_environment_options, _convert), tp/Texinfo/Convert/Plaintext.pm
	(_convert), tp/Texinfo/Convert/TexinfoMarkup.pm (_convert),
	tp/Texinfo/Convert/TextContent.pm (%ignored_types, _convert),
	tp/init/html32.pm (html32_convert_item_command): update conversion for
	change in block commands with items tree.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	@float arguments in 'argument' container in contents instead of args

	* tp/Texinfo/Common.pm (get_label_element), tp/Texinfo/ParserNonXS.pm
	(_parse_float_type, _end_line_starting_block, _handle_block_command)
	(_handle_comma, _process_remaining_on_line),
	tp/Texinfo/XS/main/floats.c (parse_float_type),
	tp/Texinfo/XS/main/utils.c (get_label_element),
	tp/Texinfo/XS/parsetexi/end_line.c (end_line_starting_block),
	tp/Texinfo/XS/parsetexi/handle_commands.c (handle_block_command),
	tp/Texinfo/XS/parsetexi/parser.c (process_remaining_on_line),
	tp/Texinfo/XS/parsetexi/separator.c (handle_comma): put @float
	line arguments in argument container first in contents, remove float
	args.

	* tp/Texinfo/Convert/Converter.pm (format_comment_or_return_end_line)
	(float_type_number, float_name_caption), tp/Texinfo/Convert/DocBook.pm
	(%ignored_types), tp/Texinfo/Convert/HTML.pm
	(%default_types_conversion), tp/Texinfo/Convert/LaTeX.pm
	(%ignored_types, _prepare_floats, _convert),
	tp/Texinfo/Convert/Plaintext.pm (%ignored_types, _convert),
	tp/Texinfo/Convert/Texinfo.pm (_expand_cmd_args_to_texi),
	tp/Texinfo/Convert/TexinfoMarkup.pm (_end_line_spaces)
	(_convert_argument_and_end_line, _convert), tp/Texinfo/Convert/Text.pm
	(%ignored_types, _convert), tp/Texinfo/XS/convert/converter.c
	(float_type_number, float_name_caption),
	tp/Texinfo/XS/convert/html_prepare_converter.c (ignored_types),
	tp/Texinfo/XS/main/convert_to_texinfo.c (expand_cmd_args_to_texi),
	tp/Texinfo/XS/main/convert_to_text.c (convert_to_text_internal): adapt
	conversion to float argument being in in an argument container in
	contents, and prepare more generally for block commands with arguments
	in 'argument' container in contents.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	@*macro arguments in 'argument' container in contents instead of args

	* tp/Texinfo/ParserNonXS.pm (_parse_macro_command_line)
	(_expand_macro_arguments, _expand_linemacro_arguments)
	(_lookup_macro_parameter, _expand_macro_body, _handle_macro)
	(_process_macro_block_contents), tp/Texinfo/XS/main/element_types.txt
	(argument), tp/Texinfo/XS/parsetexi/macro.c (parse_macro_command_line)
	(lookup_macro_parameter, expand_macro_arguments)
	(expand_linemacro_arguments, expand_macro_body, handle_macro),
	tp/Texinfo/XS/parsetexi/parser.c (process_macro_block_contents):
	put @*macro commands argument first in contents in a new container
	type, argument.  Do not use command args anymore.

	* tp/Texinfo/Convert/Texinfo.pm (_convert_to_texinfo),
	tp/Texinfo/Convert/TexinfoMarkup.pm (_convert),
	tp/Texinfo/Transformations.pm (_protect_hashchar_at_line_beginning),
	tp/Texinfo/XS/main/convert_to_texinfo.c (convert_to_texinfo_internal),
	tp/Texinfo/XS/structuring_transfo/transformations.c
	(protect_hashchar_at_line_beginning_internal): update for the change
	in @*macro arguments.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/LaTeX.pm (convert_math_to_images): use contents
	instead of args for @math.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/element_types.txt: remove unused internal type
	internal_spaces_after_cmd_before_arg.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	Use contents instead of args for brace commands in Texinfo tree

	* tp/Texinfo/ParserNonXS.pm (_handle_comma): rename $brace_command as
	$command_element.

	* tp/Texinfo/Common.pm (get_label_element), tp/Texinfo/ParserNonXS.pm
	(_end_line_starting_block, _new_value_element, _handle_open_brace)
	(_handle_close_brace, _handle_comma, _process_remaining_on_line),
	tp/Texinfo/Translations.pm (_substitute_element_array),
	tp/Texinfo/XS/main/build_perl_info.c (element_to_perl_hash),
	tp/Texinfo/XS/main/translations.c (substitute_element_array),
	tp/Texinfo/XS/main/utils.c (get_label_element),
	tp/Texinfo/XS/parsetexi/end_line.c (end_line_starting_block),
	tp/Texinfo/XS/parsetexi/parser.c (new_value_element)
	(process_remaining_on_line), tp/Texinfo/XS/parsetexi/separator.c
	(handle_open_brace, handle_close_brace, handle_comma): use contents
	instead of args for brace command arguments in Texinfo tree.

	* tp/Texinfo/Structuring.pm (check_nodes_are_referenced),
	tp/Texinfo/Transformations.pm (fill_gaps_in_sectioning)
	(_reference_to_arg, _protect_hashchar_at_line_beginning),
	tp/Texinfo/ManipulateTree.pm (_new_asis_command_with_text)
	(_protect_text, protect_first_parenthesis),
	tp/Texinfo/XS/main/manipulate_tree.c (new_asis_command_with_text)
	(protect_text), tp/Texinfo/XS/structuring_transfo/structuring.c
	(check_nodes_are_referenced, associate_internal_references),
	tp/Texinfo/XS/structuring_transfo/transformations.c
	(protect_first_parenthesis, fill_gaps_in_sectioning)
	(reference_to_arg_internal)
	(protect_hashchar_at_line_beginning_internal): update structuring and
	transformations for change of args to contents for brace commands.

	* tp/Texinfo/Convert/Converter.pm (table_item_content_tree),
	tp/Texinfo/Convert/DocBook.pm (conversion_output_begin, _index_entry)
	(_convert), tp/Texinfo/Convert/HTML.pm (_internal_command_tree)
	(_convert_explained_command, _convert_listoffloats_command)
	(_convert_float_command, _convert_xref_commands)
	(_convert_printindex_command, _default_format_single_footnote)
	(_prepare_converted_output_info, _convert), tp/Texinfo/Convert/Info.pm
	(format_ref, format_image), tp/Texinfo/Convert/LaTeX.pm (_title)
	(_begin_document, _index_entry, _convert),
	tp/Texinfo/Convert/NodeNameNormalization.pm (_convert),
	tp/Texinfo/Convert/Plaintext.pm (%ignored_commands, process_footnotes)
	(process_printindex, format_ref, image_formatted_text, format_image)
	(_convert), tp/Texinfo/Convert/Texinfo.pm (_convert_to_texinfo)
	(_expand_cmd_args_to_texi), tp/Texinfo/Convert/TexinfoMarkup.pm
	(_convert), tp/Texinfo/Convert/Text.pm (_convert),
	tp/Texinfo/Convert/Utils.pm (definition_category_tree)
	(find_innermost_accent_contents), tp/Texinfo/Indices.pm
	(_idx_leading_text_or_command), tp/Texinfo/ManipulateTree.pm
	(_new_asis_command_with_text, _protect_text)
	(protect_first_parenthesis), tp/Texinfo/XS/convert/convert_html.c
	(html_prepare_converted_output_info, html_convert_tree_append)
	(html_node_redirections), tp/Texinfo/XS/convert/converter.c
	(table_item_content_tree), tp/Texinfo/XS/convert/format_html.c
	(html_internal_command_tree, html_default_format_single_footnote)
	(html_convert_explained_command, html_convert_xref_command)
	(html_convert_float_command, html_convert_listoffloats_command)
	(html_convert_printindex_command),
	tp/Texinfo/XS/main/convert_to_texinfo.c (expand_cmd_args_to_texi)
	(convert_to_texinfo_internal), tp/Texinfo/XS/main/convert_to_text.c
	(convert_to_text_internal), tp/Texinfo/XS/main/convert_utils.c
	(find_innermost_accent_contents),
	tp/Texinfo/XS/main/manipulate_indices.c (idx_leading_text_or_command),
	tp/Texinfo/XS/main/node_name_normalization.c
	(convert_to_normalized_internal), tp/ext/latex2html.pm (l2h_process),
	tp/ext/tex4ht.pm (tex4ht_prepare): update conversion for change of
	args to contents for brace commands.  call get_label_element more.

	* tp/Texinfo/Convert/DocBook.pm (_convert),
	tp/Texinfo/Convert/LaTeX.pm (_convert),
	tp/Texinfo/XS/main/convert_to_text.c (convert_to_text_internal),
	tp/Texinfo/XS/main/node_name_normalization.c
	(convert_to_normalized_internal): return right after formatting brace
	commands.

	* tp/init/documentation_examples.pm
	(my_test_documentation_convert_xref_commands), tp/t/01use.t,
	tp/t/init/footnote_mark_in_inline_content.pm
	(_texi2any_test_format_single_footnote_in_inline_content): update
	tests init files and manually written tree.

	* tp/t/09indices.t: change code order.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/ParserNonXS.pm (_expand_macro_arguments)
	(_expand_linemacro_arguments, _handle_macro),
	tp/Texinfo/XS/parsetexi/macro.c (expand_macro_arguments)
	(expand_linemacro_arguments, expand_macro_body, handle_macro): use
	contents instead of args for macro call elements.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/ParserNonXS.pm (_place_source_mark)
	(_process_remaining_on_line), tp/Texinfo/XS/parsetexi/close.c,
	tp/Texinfo/XS/parsetexi/end_line.c, tp/Texinfo/XS/parsetexi/parser.c
	(process_remaining_on_line), tp/Texinfo/XS/parsetexi/separator.c,
	tp/Texinfo/XS/parsetexi/source_marks.c (place_source_mark): put text
	element for spaces appearing after a brace @-command name before the
	opening brace directly in info spaces_after_cmd_before_arg instead of
	using the brace command contents.  There is no need for
	_gather_spaces_after_cmd_before_arg anymore, remove, update callers.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/LaTeX.pm (convert_math_to_images): always use
	forward slashes as file path elements delimiter.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Makefile.am (CLEANFILES): add load_txi_modules.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	tp/tests/run_parser_all.sh (check_info_math2img, no_dvipng)
	(post_process_output): add support for INFO_MATH_IMAGES tests.

	* autogen.sh, tp/tests/Makefile.am (other_tests_dirs), configure.ac
	(AC_CONFIG_FILES), tp/tests/Makefile.onetst,
	tp/tests/info_tex/Makefile.am, tp/tests/info_tex/tex_math.texi: add
	test of INFO_MATH_IMAGES.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/LaTeX.pm (convert_math_to_images): return png
	files relative to the directory where the info file is created.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	Implement INFO_MATH_IMAGES in Info

	* tp/Texinfo/Convert/LaTeX.pm (_enc_usepackage, _latex_header):
	separate _enc_usepackage to setup the usepackage related to encoding.

	* tp/Texinfo/Convert/LaTeX.pm (convert_math_to_images): call
	_enc_usepackage and encode output.

	* tp/Texinfo/Convert/Info.pm (format_image_element),
	tp/Texinfo/Convert/Plaintext.pm (format_image_element): rename
	format_image as format_image_element.

	* tp/Texinfo/Convert/Info.pm (format_image, format_image_element),
	tp/Texinfo/Convert/Plaintext.pm (format_image): add format_image, to
	do the low level formatting of image only.  Note that the Plaintext
	format_image is not called.

	* tp/Texinfo/options_data.txt (INFO_MATH_IMAGES): add.

	* TODO, tp/Texinfo/Convert/Plaintext.pm (conversion_initialization)
	(_insert_image, _convert): implement INFO_MATH_IMAGES.  Push a count
	for @math and @displaymath with INFO_MATH_IMAGES to capture content.
	Add _insert_image to output an image in case it is needed outside of
	@image formatting, and use it for INFO_MATH_IMAGES @math and
	@displaymath formatting.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/Plaintext.pm (conversion_initialization)
	(_convert): set block_math_commands to always be
	default_preformatted_context_commands and
	default_format_context_commands.  Do not set dynamically anymore the
	'preformatted_context_commands' and 'format_context_commands'.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/LaTeX.pm (convert_math_to_images): render math
	@-commands Texinfo tree elements as images using LaTeX with the
	preview package and dvipng.

	* tp/Texinfo/Convert/Info.pm (output): preliminary code for the call
	to convert_math_to_images.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	Remove letter column in printindex HTML formatting, improve formatting

	* TODO, tp/Texinfo/Convert/HTML.pm (_convert_printindex_command),
	tp/Texinfo/Data/default_css_element_class_styles.csv
	tp/Texinfo/XS/convert/format_html.c (html_convert_printindex_command):
	remove the letter column, there is no reason to indent with the letter
	used as heading.  Add classes for the letter as heading.  Bigger fonts
	for the letter, add some spacing.  Report from Per Bothner.

	* tp/Texinfo/Convert/HTML.pm (_convert_printindex_command),
	tp/Texinfo/Data/default_css_element_class_styles.csv,
	tp/Texinfo/XS/convert/format_html.c (html_convert_printindex_command):
	replace rule by table cell border in printindex formatting.

	* tp/Texinfo/Convert/HTML.pm (_convert_printindex_command),: remove
	the printindex indices formatting heading telling that the first
	column is the index entry and the second one is the section, this
	heading is not useful as it is only visible at the beginning of the
	index, this is understandable without the heading and the formatting
	structure is easier to follow without this heading.

	* tp/Texinfo/Convert/HTML.pm (_convert_printindex_command),
	tp/Texinfo/XS/convert/format_html.c
	(printindex_letters_head_foot_internal): add classes with the index
	name replaced by index to be able to set CSS for all the indices for
	summary letters tables and index entries table.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* Pod-Simple-Texinfo/pod2texi.pl: move end of lines out of translated
	messages.
	Update po files

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl: move end of lines out of translated messages.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* po/POTFILES.in: add tp/Texinfo/XS/teximakehtml.c.
	Update po files

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	Update po files

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* Makefile.am (po-check): avoid a false positive.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS: run
	  gnulib-tool --add-import getopt-gnu

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	Run gnulib --add-import under tp/Texinfo/XS.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/converter.c (free_converter_paths_information)
	(setup_converter_paths_information), tp/Texinfo/XS/convert/converter.h
	(INSTALLED_PATHS, UNINSTALLED_PATHS): add
	free_converter_paths_information.  Free previous conversion_paths_info
	before setting them in setup_converter_paths_information.

	* tp/Texinfo/XS/convert/converter.c (converter_setup): the function
	can be called twice if called both from C and from a Perl converter
	modules initialization called from C.  Add a variable to avoid running
	twice the code except for setting paths.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (locate_and_load_init_file)
	(locate_and_load_extension_file, main): free strings and structures to
	avoid memory leaks found with valgrind.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c (txi_load_init_file): add
	embedded_interpreter argument, to be able to skip the call if there is
	no embedded interpreter forced by the caller.  Update caller.

	* tp/Texinfo/XS/convert/texinfo.c (txi_customization_loading_setup),
	tp/Texinfo/XS/main/api_to_perl.c (get_perl_scalar_reference_value)
	(call_switch_to_global_locale, call_sync_locale),
	tp/Texinfo/XS/main/xs_utils.c (set_no_perl_interpreter)
	(get_no_perl_interpreter): add set_no_perl_interpreter and
	get_no_perl_interpreter to be able to communicate that there is no
	Perl interpreter even though the code is linked against Perl.  Set it
	in txi_customization_loading_setup.  Avoid calling Perl functions if
	set.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/Makefile.am
	(libcallperl_libtexinfo_convert_la_SOURCES)
	(libtexinfo_convertxs_la_SOURCES),
	tp/Texinfo/XS/convert/call_conversion_perl.c (get_sv_converter),
	tp/Texinfo/XS/convert/get_converter_perl_info.c: move
	libcallperl_libtexinfo_convert.c to libcallperl_libtexinfo_convert,
	and move get_sv_converter to libcallperl_libtexinfo_convert.c as it is
	used in that file.

	* tp/Texinfo/XS/convert/call_conversion_perl.c
	(call_config_GNUT_load_init_file), tp/Texinfo/XS/Makefile.am
	(teximakehtml_SOURCES),
	tp/Texinfo/XS/convert/replace_call_conversion_perl.c: add replacements
	for call_conversion_perl.c functions to be used when not linked
	against libtexinfo_convertxs.

	* tp/Texinfo/XS/convert/texinfo.c (txi_customization_loading_setup)
	(txi_load_init_file, txi_customization_loading_finish)
	(txi_converter_setup, txi_converter_output),
	tp/Texinfo/XS/teximakehtml.c (locate_and_load_init_file)
	(locate_and_load_extension_file, main): move code calling
	call_conversion_perl.c functions out of texi2makehtml.c to texinfo.c.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/call_conversion_perl.c (call_init_perl),
	tp/Texinfo/XS/teximakehtml.c (main): call perl_run to have
	load_txi_modules.pl executed.  Report and check statuses.

	* tp/Texinfo/XS/teximakehtml.c (main): put init files in a list when
	they appear on the command line and load them only after the embedded
	interpreter has been loaded.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/load_txi_modules.pl (BEGIN): load Texinfo::XSLoader in BEGIN
	block and call set_XS_embedded to be sure that it is done before any
	module with XS is loaded.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl: use get_conf to determine if HTML_MATH and
	HIGHLIGHT_SYNTAX are set to load extensions.  Move code around.

	* tp/Texinfo/XS/teximakehtml.c (locate_and_load_extension_file)
	(main): load interpreter right after command-line options.
	Load extension files based on customization variables set.

	* tp/Texinfo/XS/teximakehtml.c (FORMAT_SPECIFICATION, main): handle
	format needing an init file.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c (txi_set_base_default_options),
	tp/Texinfo/XS/teximakehtml.c (main): set XS_STRXFRM_COLLATION_LOCALE
	in main, remove embedded_interpreter txi_set_base_default_options
	argument.

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): add options to
	control embedded interpreter.  Initialize embedded interpreter after
	parsing the command-line.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/replace_perl_api_call.c
	(call_translations_translate_string),
	tp/Texinfo/XS/main/translations.c (translate_string): have
	call_translations_translate_string return 0 if there is no external
	translate_string.
	In translate_string, even if use_external_translate_string is > 0,
	continue with C gettext if there is no external translate_string.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/converter.c
	(clear_converter_initialization_info), tp/Texinfo/XS/main/utils.c
	(clear_deprecated_dirs_list): add.

	* tp/Texinfo/XS/convert/call_conversion_perl.c
	(call_convert_converter), tp/Texinfo/XS/convert/texinfo.c
	(txi_converter_initialization_setup, txi_converter_setup),
	tp/Texinfo/XS/teximakehtml.c (main): separate
	txi_converter_initialization_setup from txi_converter_setup.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/html_prepare_converter.c
	(html_converter_customize): modify the external_* counters before
	resetting the status.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/converter.c (free_generic_converter),
	tp/Texinfo/XS/convert/ConvertXS.xs (generic_converter_init): hold a
	reference to the converter in C.  It is required if the converter is
	not lexicaly associated to a Perl module, for instance when the
	converter is created by a call to Perl method from C.

	* tp/Texinfo/XS/Makefile.am (libtexinfo_convertxs_la_SOURCES),
	tp/Texinfo/XS/convert/call_conversion_perl.c
	(call_config_GNUT_load_init_file, call_init_perl, call_finish_perl),
	tp/Texinfo/XS/main/call_perl_function.c: move code called from
	embedded Perl to the new convert/call_conversion_perl.c file.

	* tp/Texinfo/XS/convert/call_conversion_perl.c
	(call_convert_converter, call_converter_output),
	tp/Texinfo/XS/teximakehtml.c (formats_table, FORMAT_SPECIFICATION)
	(main): add Perl module in FORMAT_SPECIFICATION, and add calls
	tp converter converter and output Perl methods.  Use it for HTML if
	init files were loaded.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	force using XS when Perl interpreter is embedded

	* tp/Texinfo/XSLoader.pm ($embedded_xs, set_XS_embedded)
	(XS_parser_enabled, XS_structuring_enabled, XS_convert_enabled),
	tp/load_txi_modules.pl: add set_XS_embedded to notify that the Perl
	parser is embedded and set $embedded_xs.  Call it from
	load_txi_modules.pl.

	* tp/Texinfo/Convert/HTML.pm (import): do not call _XS_format_setup if
	Perl is embedded, as it has already been called by the C code.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	load initialization files in teximakehtml.c

	* tp/Texinfo/XS/main/build_perl_info.c,
	tp/Texinfo/XS/main/call_perl_function.c (newSVpv_byte): move
	newSVpv_byte to call_perl_function.c.

	* tp/Texinfo/XS/main/call_perl_function.c
	(texinfo_convert_html_module_loaded, call_config_GNUT_load_init_file):
	add call_config_GNUT_load_init_file.

	* tp/Texinfo/XS/teximakehtml.c (warn_deprecated_dirs)
	(locate_and_load_init_file, long_options, main): handle conf-dir and
	init-file options.  call call_config_GNUT_load_init_file through
	locate_and_load_init_file when an init file is specified.  Setup
	directory lists related to init files.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	* tp/Makefile.am (converterdata_SCRIPTS, load_txi_modules): install
	load_txi_modules.

	* tp/Texinfo/XS/main/call_perl_function.c (call_init_perl),
	tp/Texinfo/XS/teximakehtml.c (main): get file to load from
	call_init_perl caller.

	* tp/load_txi_modules.pl: add/remove loaded modules.

2024-12-24  Patrice Dumas  <pertusus@free.fr>

	ctexi2any C program for conversion to HTML with Perl embedding

	* tp/load_txi_modules.pl, tp/Texinfo/XS/teximakehtml.c (main),
	tp/Texinfo/XS/main/call_perl_function.c (xs_init, call_init_perl)
	(call_finish_perl), tp/Texinfo/XS/Makefile.am (noinst_PROGRAMS)
	(ctexi2any_SOURCES, ctexi2any_LDADD, ctexi2any_LDFLAGS)
	(ctexi2any_CPPFLAGS): add load_txi_modules.pl, a new script that loads
	the Texinfo modules, based on texi2any.pl beginning trimmed down.
	Add call_init_perl and call_finish_perl to load a Perl interpreter
	calling load_txi_modules.pl.  In teximakehtml.c, if EMBED_PERL is
	defined, call the functions to load an interpreter.
	Add ctexi2any based on teximakehtml.c linking against libtexinfo*
	libraries with EMBED_PERL defined.

	* tp/Texinfo/XS/convert/texinfo.c (txi_general_setup)
	(txi_set_base_default_options): add arguments to set
	use_external_translate_string, and to be able to avoid setting
	XS_STRXFRM_COLLATION_LOCALE.  Update callers.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (main): really handle option setting a
	flag.  Set customization variable for debug option.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Common.pm (%valid_tree_transformations): remove
	indent_menu_descriptions, it has been removed long ago.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Common.pm (%valid_tree_transformations),
	tp/Texinfo/XS/convert/texinfo.h: reorder valid transformations.  Add
	STTF_fill_gaps_in_sectioning.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Common.pm (%valid_transformation), tp/t/test_utils.pl
	(test): fix spelling of relate_index_entries_to_table_items.  Update
	tests using that transformation.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl: remove end of line in translated string.

	* tp/Texinfo/XS/teximakehtml.c (document_warn, main): free strings
	and wipe values in the end.

	* tp/Texinfo/XS/teximakehtml.c (main): warn if input file ends with
	.info.  Complete suffixes.  Set format if TEXI2HTML is specified.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (values, main): add -D and -U options.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (is_ascii_digit, main): add
	paragraph-indent option.  Encode help message and output to stdout.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (add_to_option_list)
	(remove_from_option_list, set_expansion, unset_expansion)
	(main): add add_to_option_list and remove_from_option_list, use in
	set_expansion, unset_expansion and to set EXPANDED_FORMATS.

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): add css-include
	and css-ref options.

	* tp/Texinfo/XS/teximakehtml.c (main): always consider that
	command-line array options are set from the command-line and call
	options_list_add_option_number early for all these customization
	variables.

	* tp/Texinfo/XS/convert/texinfo.c (txi_converter_setup),
	tp/Texinfo/XS/teximakehtml.c (main): set TEXINFO_LANGUAGE_DIRECTORIES
	option in main, not in txi_converter_setup.  Remove
	texinfo_language_config_dirs_in txi_converter_setup argument.  Move
	code adding top_srcdir/util to texinfo_language_config_dirs to main.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/customization_options.c (clear_options_list):
	also clear the OF_set_in_list flags.

	* tp/Texinfo/XS/convert/texinfo.c (txi_converter_format_defaults),
	tp/Texinfo/XS/teximakehtml.c (main): do not set expanded_formats
	through txi_converter_format_defaults, remove corresponding argument,
	it should be set as a regular customization option.  Remove
	expanded_formats in teximakehtml.c.

	* tp/Texinfo/XS/teximakehtml.c (main, set_expansion, unset_expansion):
	always set EXPANDED_FORMATS as an added options in cmdline_options.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/utils.c (store_value, clear_value),
	tp/Texinfo/XS/parsetexi/macro.c (store_value_parsed_document)
	(store_parser_value_parsed_document, clear_value_parsed_document)
	(clear_parser_value_parsed_document): move the part of store_value
	and clear_value strictly related to setting or clearing values in a
	values list to utils.c, adding a values list argument to clear_value.
	Rename functions in macro.c that apply on parser and also set internal
	flags in parsed document to store_value_parsed_document,
	store_parser_value_parsed_document, clear_value_parsed_document and
	add clear_parser_value_parsed_document.  Update callers.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): add command line
	options setting customization variables simply.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (main): add prepended include
	directories options.  Correctly set include directories for parser and
	converters.

	* tp/Texinfo/XS/convert/texinfo.c (txi_parser): rearrange code for the
	case of include directories not set, and put the current directory in
	front.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (set_option_value)
	(set_customization_default, set_from_cmdline): pass option number
	instead of option.  Pass value to set_customization_default.  Update
	callers.

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): add headers and
	no headers command-line options.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): add macro-expand
	option and implementation.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl (document_warn): do not chomp input message.
	Remove end of lines in document_warn calls.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (set_customization_default): also check
	init_files_options.

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): add verbose and
	trace-include options.  Implement output of includes if TRACE_INCLUDES
	is set.

	* tp/Texinfo/XS/teximakehtml.c (main): handle parse and structure
	output formats.  Set do menu argument of txi_complete_document.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c (txi_converter_setup),
	tp/Texinfo/XS/teximakehtml.c (FORMAT_COMMAND_LINE_NAME)
	(format_command_line_names, FORMAT_REGION_NAME)
	(converter_format_expanded_region_name, FORMAT_SPECIFICATION)
	(formats_table, get_conf, set_option_value, set_from_cmdline)
	(set_from_init_file, set_format, get_cmdline_customization_option)
	(format_expanded_formats, set_cmdline_format, main): set
	TEXINFO_OUTPUT_FORMAT especially based on environment, command-line or
	as customization variable on command-line.  Add formats table with
	structuring and transformation flags.  Set output_format,
	converted_format and EXPANDED_FORMATS based on TEXINFO_OUTPUT_FORMAT.
	Do not set TEXINFO_OUTPUT_FORMAT in txi_converter_setup anymore.
	Remove parser_EXPANDED_FORMATS.  Complete help message.

	* tp/Texinfo/XS/teximakehtml.c (long_options): add html, remove
	print_help_p for "help".

	* tp/Texinfo/XS/teximakehtml.c (exit_if_errors): convert error_limit
	to size_t.

	* tp/Texinfo/XS/convert/texinfo.c: rename format_str as
	converted_format.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl (%formats_table): remove internal_links for latex, it
	is not implemented.

	* tp/texi2any.pl (set_format): remove end of line in message.

	* tp/texi2any.pl (set_format): do not recognize undef for
	TEXINFO_OUTPUT_FORMAT.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/utils.c (remove_from_strings_list): free removed
	string.

	* tp/Texinfo/XS/teximakehtml.c (merge_opened_files, exit_if_errors)
	(handle_errors, main): keep track of opened files.  Remove opened
	files at exit.  Exit depending on options values and error numbers
	as done in texi2any.

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): add force and
	no-warn options.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/errors.c (output_error_messages), tp/texi2any.pl
	(_output_error_messages): rename handle_error_messages as
	output_error_messages and _handle_errors as _output_error_messages.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl: keep track of total errors number by using the
	handle_errors return value.  Use handle_errors for document errors.

	* tp/texi2any.pl (handle_errors): change a variable name.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/utils.c (remove_from_strings_list): add.

	* tp/Texinfo/XS/teximakehtml.c (main): set directly
	cmdline_options.options->INCLUDE_DIRECTORIES strings list with include
	directories, remove include_dirs.

	* tp/Texinfo/XS/teximakehtml.c (set_expansion, unset_expansion)
	(long_options, main): handle --if*FORMAT options.  Remove
	demo_parser_EXPANDED_FORMATS.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	Handle processing more than one file in teximakehtml

	* tp/Texinfo/XS/main/customization_options.c (clear_options_list):
	add.

	* tp/Texinfo/XS/teximakehtml.c (main): set program_options and not
	converter_options based on demonstration_p and mimick_p.  Parse input
	file name and use the input file name directory to complete
	converter_texinfo_language_config_dirs.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (set_from_cmdline): handle "undef"
	value.  Fix variable name.

	* tp/Texinfo/XS/configure.ac (CONVERTER_CONFIG): pass CONVERTER as
	CONVERTER_CONFIG.

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): add version,
	output, footnote-style and split options.

	* tp/texi2any.pl ($makeinfo_help): avoid \n in translated strings,
	split each option in a translatable string.  Report from Benno
	Schulenberg.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (set_from_cmdline, _)
	(get_cmdline_customization_option, long_options, main): use _() for
	translated messages.  Add help message similar to texi2any help
	message.  Use - as input file if it is possible to read from stdin.
	Add document-language, error-limit and help options.  Put all the
	files to process in a list.  Output the same error messages as in
	texi2any when input file is missing.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (set_subdir_directories): remove
	useless leading ./.

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): add long options
	support by calling getopt_long and set long_options.

	* tp/Texinfo/XS/teximakehtml.c (long_options, main): set mimick mode
	and demonstration mode with long options.  Do not set TEST especially.
	Remove run mode, using options should be enough.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/main/customization_options.c
	(option_number_in_option_list, options_list_add_option_number),
	maintain/regenerate_C_options_info.pl: set OF_set_in_list flag in in
	option flag when the option is added to an option list.  Always check
	that the OF_set_in_list flag is not set before adding to the options
	list, and remove the check_duplicates options_list_add_option_number
	argument.  Update callers.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	Use XDG base directory in teximakehtml

	* tp/Texinfo/XS/main/utils.c (find_deprecated_dir_info): add const.

	* tp/Texinfo/XS/convert/texinfo.c (txi_converter_setup): get and set
	DEPRECATED_DIRS_LIST deprecated dirs.

	* tp/Texinfo/XS/teximakehtml.c (add_config_paths, main)
	(set_subdir_directories): implement add_config_paths and
	set_subdir_directories and use to set texinfo_language_config_dirs.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	Deprecated directories warning in XS/C

	* tp/Texinfo/XS/main/utils.c (file_name_is_absolute)
	(locate_include_file, locate_file_in_dirs): add file_name_is_absolute.

	* tp/Texinfo/XS/main/converter_types.h (DEPRECATED_DIR_INFO)
	(DEPRECATED_DIRS_LIST, CONVERTER_INITIALIZATION_INFO, CONVERTER),
	tp/Texinfo/XS/main/utils.c (find_deprecated_dir_info)
	(add_deprecated_dir_info, copy_deprecated_dirs)
	(add_new_deprecated_dir_info, free_deprecated_dirs_list): add
	deprecated directories structures and functions.

	* tp/Texinfo/XS/convert/converter.c (apply_converter_info)
	(destroy_converter_initialization_info, free_generic_converter),
	tp/Texinfo/XS/convert/get_converter_perl_info.c
	(get_deprecated_config_directories_sv, get_converter_info_from_sv):
	pass deprecated directories information from Perl to converter.

	* tp/Texinfo/XS/main/utils.c (locate_file_in_dirs),
	tp/Texinfo/XS/convert/html_prepare_converter.c (load_htmlxref_files):
	set deprecated directories used in locate_file_in_dirs.  Warn if
	deprecated directories are used in load_htmlxref_files.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c (txi_parser): check that
	input_directory is not NULL before using.

	* tp/Texinfo/XS/teximakehtml.c (main): call
	options_list_add_option_number for parser options set.

	* tp/Texinfo/XS/Makefile.am (teximakehtml_CPPFLAGS),
	tp/Texinfo/XS/teximakehtml.c (push_include_directory, main): pass
	PATH_SEP from configure PATH_SEPARATOR to teximakehtml flags.
	Add -I option, add include_dirs and set INCLUDE_DIRECTORIES option
	based on the -I values.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (main): copy the parser customizations
	set into the parser options.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/converters_defaults.txt,
	tp/maintain/regenerate_C_options_info.pl: set defaults for parser array
	variables.  Select integer and strings only to set regular options in
	C.

	* tp/Texinfo/Common.pm: remove %array_parser_options, it is not useful
	anymore.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/converter.c (set_global_document_commands)
	tp/Texinfo/XS/main/customization_options.c (initialize_option)
	(option_set_conf, copy_options_list_set_configured),
	tp/Texinfo/XS/main/get_perl_info.c (get_sv_option),
	tp/Texinfo/XS/main/option_types.h (OPTION): replace configured with
	flags, and use a flag to determine if the option is configured.
	Add flags argument to initialization function.

	* tp/maintain/regenerate_C_options_info.pl: set a specific flag for
	parser options and options set in parser flags when initializing the
	options.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Common.pm (%array_parser_options)
	(%default_parser_customization_values)
	($common_parser_regular_options_defaults): add %array_parser_options
	for array reference parser options and use Texinfo::Options
	parser options to get the other customization options. Remove
	%common_parser_customization and %parser_customization.

	* util/txicustomvars: use Texinfo::Options::parser_options only to get
	parser specific options.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/maintain/regenerate_perl_options_info.pl,
	tp/Texinfo/Convert/Converter.pm, tp/Texinfo/Convert/HTML.pm: do not
	prepend converter_ in front of regular options defaults.  Rename
	get_converter_regular_options as get_regular_options.

	* tp/Texinfo/Convert/converters_defaults.txt,
	tp/Texinfo/Convert/Converter.pm, tp/Texinfo/Convert/HTML.pm,
	tp/Texinfo/XS/convert/html_converter_init_options.c
	(html_converter_defaults), tp/Texinfo/XS/convert/converter.c
	(set_generic_converter_options): update names.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/maintain/regenerate_C_options_info.pl,
	tp/Texinfo/options_data.txt: add parser customization options.

	* tp/Texinfo/Convert/converters_defaults.txt (common_parser):
	setup common_parser options.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c, tp/Texinfo/XS/teximakehtml.c
	(set_customization_default, main): remove
	txi_config_set_customization_default from texinfo.c and add the
	similar set_customization_default function to teximakehtml.c.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	Fix memory leaks in teximakehtml (from valgrind)

	* tp/Texinfo/XS/teximakehtml.c (document_warn): free encoded_message.

	* tp/Texinfo/XS/teximakehtml.c (main): strdup top_builddir if coming
	from getenv.  Free top_builddir.  Destroy format_defaults.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/teximakehtml.c (get_cmdline_customization_option):
	clear option if value is undef, case insensitive, to match what is
	done in Perl, setting to undef.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/texi2any.pl: when parsing -c/--set-customization-variable,
	determine the variable name before checking if the value should be
	decoded.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Config.pm (_GNUT_document_warn, _GNUT_document_fatal)
	(GNUT_set_from_cmdline, texinfo_register_no_arg_command_formatting)
	(GNUT_get_no_arg_command_formatting)
	(texinfo_register_style_command_formatting)
	(GNUT_get_style_command_formatting)
	(texinfo_register_special_unit_info): remove \n in messages.  Remove
	chomp in _GNUT_document_warn and _GNUT_document_fatal.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/html_prepare_converter.c,
	tp/Texinfo/XS/main/base_utils.c (read_var_len): move read_var_len to
	base_utils.c.

	* tp/Texinfo/XS/main/errors.c (handle_error_messages): ignore no_warn
	if < 0.

	* tp/Texinfo/XS/teximakehtml.c (get_conf, decode_input)
	(encode_message, document_warn, get_cmdline_customization_option)
	(main): add command-line option to set customization option.
	Use NO_WARN and TEST customization variables values for
	txi_handle_*_error_messages arguments.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/XS/convert/texinfo.c (txi_set_base_default_options)
	(txi_converter_setup), tp/Texinfo/XS/teximakehtml.c (main): do not set
	options independent of converter format in txi_converter_setup, add
	txi_set_base_default_options for that, and call it early, before
	getting command-line options.  In txi_set_base_default_options, also
	call add_program_cmdline_options_defaults and
	add_program_customization_options_defaults to set the same defaults
	as in texi2any.

	* tp/Texinfo/XS/convert/texinfo.c
	(txi_config_set_customization_default),
	tp/Texinfo/XS/main/customization_options.c
	(option_number_in_option_list, options_list_add_option_number): add
	option_number_in_option_list based on options_list_add_option_number.
	Add txi_config_set_customization_default to set program option if not
	already set as command line option.

	* tp/Texinfo/XS/teximakehtml.c (main): call
	txi_config_set_customization_default to set FORMAT_MENU based on
	converter customization option taking into account cmdline_options.
	Set convert_options based on program_options and cmdline_options.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Config.pm (texinfo_set_from_init_file)
	(GNUT_set_customization_default): consistently use exists to determine
	if cmdline_options or init_files_options are set, and not defined.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/Texinfo/Convert/HTML.pm (_convert_menu_entry_type),
	tp/Texinfo/XS/convert/format_html.c (html_convert_menu_entry_type):
	if !NODE_NAME_IN_MENU, pick the associated section even if the node is
	the element command.  Report from Frederico Muoz.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* system.h (setmode): Remove now unused.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* system.h (SET_BINARY): Remove now unused.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* configure.ac (AC_CONFIG_HEADERS): Elaborate on config.in
	naming.  Information from Eli.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	makedoc: remove -tags option

	* info/makedoc.c (EMACS_TAG, EMACS_TAG_BLOCK, emacs_tags):
	Remove.
	(maybe_dump_tags): Remove.

	(main, process_one_file): Remove all handling of -tags option or
	tag blocks.

	"makedoc -tags" appeared to be used to generate an Emacs tags
	table, but the purpose of this is unknown.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove system.h includes

	* system.h, info/info.h, install-info/install-info.c:
	remove include of <sys/stat.h> and redefinition of S_ISDIR from
	system.h.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* system.h (HAVE_LONG_FILENAMES): Remove as it is not used
	anywhere.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* info/info.h, install-info/install-info.c:
	Include <unistd.h> instead of relying on system.h including it.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove system.h includes

	* system.h: remove further unnecessary includes

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove system.h include

	* system.h, info/info.h, install-info/install-info.c:
	Move include of "xalloc.h" out of system.h.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove system.h defines

	* system.h,
	* info/info.h: Remove or move more includes out of system.h.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove system.h defines

	* system.h,
	* info/info.h,
	* info/window.h,
	* install-info/install-info.c: Move system includes out of system.h.
	* system.h (PATH_MAX): Remove.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove system.h defines

	* system.h [STAT_MACROS_BROKEN]: Remove section as this symbol
	is not set anywhere.  It was formerly set by AC_HEADER_STAT in
	configure.ac but this macro is now obsolescent..

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove system.h defines

	* system.h, info/tilde.c: move include of <pwd.h> to tilde.c.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove system.h defines

	* system.h:
	[MIKTEX]: Remove section.  I have been unable
	to determine its purpose or relevance.  (Added 2002-09-26.)
	* system.h: Remove comment re assuming ANSI C89 headers.
	[VMS] Remove section.  (Added 1997-30-03.)

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove or move system.h defines.

	* system.h (TEXINFO_PRINTFLIKE): Remove.
	* info/info.h (TEXINFO_PRINTFLIKE): Add.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Remove or move system.h defines.

	* system.h (STREQ, STRCASEEQ. STRNCASEEQ): Remove.
	* info/info.h (STREQ): Add.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	Version updating script

	* update-version.sh: New file.
	* Makefile.am (update-version): Add rule.
	* README-hacking: update instructions

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* doc/refcard/txirefcard.tex: remove comments after defines
	of year and version number

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* info/nodemenu.c (get_visited_nodes, nodemenu_format_info):
	Remove "* Menu:" from translatable string to prevent translators
	from translating it.

2024-12-23  Patrice Dumas  <pertusus@free.fr>

	* tp/tests/other/list-of-tests (highlight_syntax_example_latin9):
	load highlight syntax init file by setting HIGHLIGHT_SYNTAX as it is
	how it needs to be done now.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* doc/texinfo.texi (Master Menu Parts, Sample Function Definition):
	Eliminate references to "Command and Variable Index" node which
	doesn't exist any more.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* tp/Texinfo/XS/main/translations.c: remove comment that says
	that LC_CTYPE is used in XSParagraph as it isn't any more.

2024-12-23  Gavin Smith <gavinsmith0123@gmail.com>

	* README-hacking: update webpages before announcement


Copyright 2024 Free Software Foundation, Inc.

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.

